---
// LicenseGenerator.astro - Featæ¡†æ¶Licenseç”Ÿæˆå™¨
---

<div class="license-generator">
    <div class="generator-header">
        <h2>ğŸ” Feat License ç”Ÿæˆå™¨</h2>
        <p>ä¸º Feat æ¡†æ¶ç”Ÿæˆå•†ä¸šæˆæƒè®¸å¯è¯</p>
    </div>

    <div class="form-section">
        <div class="input-group">
            <label for="licenseName">æˆæƒå¯¹è±¡åç§°:</label>
            <input 
                type="text" 
                id="licenseName" 
                placeholder="è¯·è¾“å…¥æˆæƒå¯¹è±¡åç§°ï¼Œå¦‚ï¼šsmartbootå¼€æºç»„ç»‡"
                value="smartbootå¼€æºç»„ç»‡"
            />
        </div>

        <div class="input-group">
            <label for="licenseNumber">è®¸å¯è¯ç¼–å·:</label>
            <div class="input-with-button">
                <input 
                    type="text" 
                    id="licenseNumber" 
                    placeholder="ä¼ä¸šç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç æˆ–å¼€æºé¡¹ç›®ä»“åº“åœ°å€ï¼Œä¾‹å¦‚ï¼š91110000123456789X æˆ– github.com/smartboot/feat"
                />
                <button id="autoGenerateBtn" class="auto-generate-btn">è‡ªåŠ¨ç”Ÿæˆç¼–å·</button>
            </div>
            <div class="license-examples">
                <span class="example-label">è®¸å¯è¯ç¼–å·ç¤ºä¾‹ï¼š</span>
                <div class="example-item">
                    <span class="example-type">ä¼ä¸šï¼š</span>
                    <code class="example-code">91110000123456789X</code>
                    <span class="example-desc">ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç </span>
                </div>
                <div class="example-item">
                    <span class="example-type">å¼€æºé¡¹ç›®ï¼š</span>
                    <code class="example-code">github.com/smartboot/feat</code>
                    <span class="example-desc">ä»“åº“åœ°å€</span>
                </div>
                <div class="example-item">
                    <span class="example-type">å…¶ä»–ï¼š</span>
                    <code class="example-code">20241201000001</code>
                    <span class="example-desc">è‡ªå®šä¹‰ç¼–å·</span>
                </div>
            </div>
        </div>

        <div class="button-group">
            <button id="generateBtn" class="generate-btn">ç”Ÿæˆè®¸å¯è¯</button>
        </div>
    </div>

    <div class="results-section" id="resultsSection" style="display: none;">
        <div class="results-grid">
            <div class="result-card instructions-card">
                <div class="result-header">
                    <h3>ğŸ“– ä½¿ç”¨è¯´æ˜</h3>
                </div>
                <div class="usage-instructions">
                    <div class="instruction-item">
                        <h4>ğŸ“‹ License ç”³æŠ¥æ–¹å¼ï¼š</h4>
                        <p>1. Fork <a href="https://gitee.com/smartboot/feat" target="_blank">Feat ä¸»ä»“åº“</a> åˆ°æ‚¨çš„ä¸ªäººè´¦æˆ·ä¸‹</p>
                        <p>2. å°†ä»¥ä¸‹Licenseé…ç½®æ·»åŠ åˆ°é¡¹ç›®ä¸­çš„ <a href="https://gitee.com/smartboot/feat/blob/master/feat-cloud-aot/src/main/resources/feat_users.yaml" target="_blank"><code>feat-cloud-aot/src/main/resources/feat_users.yaml</code></a> æ–‡ä»¶ä¸­ï¼š</p>
                        <pre id="featUsersConfig" class="config-output"></pre>
                        <p>3. æäº¤æ›´æ”¹å¹¶æ¨é€è‡³æ‚¨çš„ Fork ä»“åº“</p>
                        <p>4. å‘ Feat ä¸»ä»“åº“æäº¤ <a href="https://gitee.com/smartboot/feat/pulls" target="_blank">Pull Request</a></p>
                        <p>5. å°† PR åœ°å€é€šè¿‡å…¬å¸é‚®ç®±å‘é€è‡³ <a href="mailto:zhengjunweimail@163.com">zhengjunweimail@163.com</a></p>
                    </div>
                    <div class="instruction-item">
                        <h4>âœ… æœ¬åœ°æµ‹è¯•å»ºè®®ï¼š</h4>
                        <p><b>é‡è¦æé†’ï¼š</b>åœ¨æ­£å¼æäº¤ LICENSE ç”³æŠ¥ä¹‹å‰ï¼Œå¼ºçƒˆå»ºè®®æ‚¨å…ˆåœ¨æœ¬åœ°ç¯å¢ƒä¸­å®Œæˆæµ‹è¯•éªŒè¯ã€‚</p>
                        <p><b>æµ‹è¯•æ–¹å¼ï¼š</b></p>
                        <ol>
                            <li>å°†ç”Ÿæˆçš„ç”¨æˆ·é…ç½®æ·»åŠ åˆ° <code>feat-cloud-aot/src/main/resources/feat_users.yaml</code> æ–‡ä»¶ä¸­</li>
                            <li>åœ¨ Feat é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ <code>mvn install</code> å‘½ä»¤ä½¿é…ç½®åœ¨æœ¬åœ°ç”Ÿæ•ˆ</li>
                            <li>åœ¨æ‚¨çš„é¡¹ç›®ä¸­é…ç½®ç”Ÿæˆçš„è®¸å¯è¯ä¿¡æ¯ï¼ˆæ·»åŠ åˆ° <code>feat.yml</code> æ–‡ä»¶ä¸­æˆ–è®¾ç½®ä¸ºç³»ç»Ÿç¯å¢ƒå˜é‡ï¼‰</li>
                            <li>å¯åŠ¨æ‚¨çš„ Feat åº”ç”¨ç¨‹åº</li>
                            <li>è§‚å¯Ÿå¯åŠ¨æ—¥å¿—ï¼Œå¦‚æœå‡ºç°ç±»ä¼¼ <code>Feat License verification passed!</code> çš„ç»¿è‰²æç¤ºä¿¡æ¯ï¼Œåˆ™è¡¨ç¤ºè®¸å¯è¯éªŒè¯é€šè¿‡</li>
                        </ol>
                        <p>åªæœ‰æœ¬åœ°æµ‹è¯•é€šè¿‡åï¼Œå†è¿›è¡Œ LICENSE ç”³æŠ¥æäº¤ã€‚</p>
                    </div>
                    <div class="instruction-item">
                        <h4>âš™ï¸ è®¸å¯è¯é…ç½®æ–¹å¼ï¼š</h4>
                        <p><b>æ–¹å¼ä¸€(ä¸æ¨è)ï¼š</b>å°†ä»¥ä¸‹è®¸å¯è¯ä¿¡æ¯æ·»åŠ åˆ°é¡¹ç›®çš„ <code>feat.yml</code> æ–‡ä»¶ä¸­ï¼š</p>
                        <pre id="featYmlConfig" class="config-output"></pre>
                        <p><b>æ–¹å¼äºŒï¼ˆæ¨èï¼‰ï¼š</b>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå¼ºçƒˆå»ºè®®å°†è®¸å¯è¯ä¿¡æ¯ä¿å­˜ä¸ºç³»ç»Ÿç¯å¢ƒå˜é‡ï¼šFEAT_LICENSE</p>
                        <h4>ğŸ”§ ç³»ç»Ÿç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹ï¼š</h4>
                        
                        <!-- Tabå¯¼èˆª -->
                        <div class="tab-navigation">
                            <button class="tab-button active" data-tab="linux">Linux/macOS</button>
                            <button class="tab-button" data-tab="windows-cmd">Windows CMD</button>
                            <button class="tab-button" data-tab="windows-ps">Windows PowerShell</button>
                        </div>
                        
                        <!-- Tabå†…å®¹ -->
                        <div class="tab-content">
                            <!-- Linux/macOS Tab -->
                            <div class="tab-pane active" id="linux-tab">
                                <pre class="config-output">export FEAT_LICENSE="<span id="licenseEnvExample"></span>"</pre>
                                <p class="config-note">è¦ä½¿ç¯å¢ƒå˜é‡åœ¨é‡å¯åä»ç„¶æœ‰æ•ˆï¼Œè¯·å°†ä¸Šè¿°å‘½ä»¤æ·»åŠ åˆ°æ‚¨çš„ <code>~/.bashrc</code>ã€<code>~/.bash_profile</code> æˆ– <code>~/.zshrc</code> æ–‡ä»¶ä¸­ã€‚</p>
                            </div>
                            
                            <!-- Windows CMD Tab -->
                            <div class="tab-pane" id="windows-cmd-tab">
                                <pre class="config-output">set FEAT_LICENSE=<span id="licenseEnvExample2"></span></pre>
                                <p class="config-note">è¦ä½¿ç¯å¢ƒå˜é‡åœ¨é‡å¯åä»ç„¶æœ‰æ•ˆï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š</p>
                                <ul class="config-note-list">
                                    <li>é€šè¿‡"ç³»ç»Ÿå±æ€§" â†’ "é«˜çº§" â†’ "ç¯å¢ƒå˜é‡"è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡</li>
                                    <li>åœ¨PowerShellä¸­ä½¿ç”¨ <code>[Environment]::SetEnvironmentVariable("FEAT_LICENSE", "<span id="licenseEnvExample6"></span>", "Machine")</code></li>
                                </ul>
                            </div>
                            
                            <!-- Windows PowerShell Tab -->
                            <div class="tab-pane" id="windows-ps-tab">
                                <pre class="config-output">$env:FEAT_LICENSE="<span id="licenseEnvExample3"></span>"</pre>
                                <p class="config-note">è¦ä½¿ç¯å¢ƒå˜é‡åœ¨é‡å¯åä»ç„¶æœ‰æ•ˆï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
                                <pre class="config-output">[Environment]::SetEnvironmentVariable("FEAT_LICENSE", "<span id="licenseEnvExample7"></span>", "Machine")</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
import { ec as EC } from 'elliptic';

class LicenseGenerator {
    constructor() {
        this.ec = new EC('p256');
        this.keyPair = null;
        this.signature = null;
        this.licenseName = '';
        this.licenseNumber = '';
        
        this.initEventListeners();
    }

    initEventListeners() {
        const generateBtn = document.getElementById('generateBtn');
        const autoGenerateBtn = document.getElementById('autoGenerateBtn');
        const licenseNameInput = document.getElementById('licenseName');
        const licenseNumberInput = document.getElementById('licenseNumber');

        generateBtn?.addEventListener('click', () => this.generateLicense());
        autoGenerateBtn?.addEventListener('click', () => this.generateLicenseNumber());
        
        // æ·»åŠ Tabåˆ‡æ¢äº‹ä»¶ç›‘å¬å™¨
        const tabButtons = document.querySelectorAll('.tab-button');
        tabButtons.forEach(button => {
            button.addEventListener('click', () => this.switchTab(button));
        });
        
        licenseNameInput?.addEventListener('input', (e) => {
            this.licenseName = e.target.value;
        });
        
        licenseNumberInput?.addEventListener('input', (e) => {
            this.licenseNumber = e.target.value;
        });
    }

    // Tabåˆ‡æ¢æ–¹æ³•
    switchTab(clickedButton) {
        const tabId = clickedButton.getAttribute('data-tab');
        
        // æ›´æ–°æŒ‰é’®çŠ¶æ€
        document.querySelectorAll('.tab-button').forEach(button => {
            button.classList.remove('active');
        });
        clickedButton.classList.add('active');
        
        // æ˜¾ç¤ºå¯¹åº”çš„Tabå†…å®¹
        document.querySelectorAll('.tab-pane').forEach(pane => {
            pane.classList.remove('active');
        });
        document.getElementById(`${tabId}-tab`).classList.add('active');
    }

    generateLicenseNumber() {
        const now = new Date();
        const year = now.getFullYear();
        const month = String(now.getMonth() + 1).padStart(2, '0');
        const day = String(now.getDate()).padStart(2, '0');
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        this.licenseNumber = `${year}${month}${day}${hours}${minutes}${seconds}`;
        
        const licenseNumberInput = document.getElementById('licenseNumber');
        if (licenseNumberInput) {
            licenseNumberInput.value = this.licenseNumber;
        }
    }


    async generateLicense() {
        try {
            // è·å–æˆæƒåç§°
            const licenseNameInput = document.getElementById('licenseName');
            this.licenseName = licenseNameInput?.value || 'smartbootå¼€æºç»„ç»‡';
            
            // è·å–è®¸å¯è¯ç¼–å·
            const licenseNumberInput = document.getElementById('licenseNumber');
            this.licenseNumber = licenseNumberInput?.value || '';

            if (!this.licenseName.trim()) {
                alert('è¯·è¾“å…¥æˆæƒå¯¹è±¡åç§°');
                return;
            }
            
            if (!this.licenseNumber.trim()) {
                alert('è¯·è¾“å…¥è®¸å¯è¯ç¼–å·ï¼ˆç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç ã€ä»“åº“åœ°å€æˆ–æ—¶é—´ç¼–å·ï¼‰');
                return;
            }
            
            // éªŒè¯è®¸å¯è¯ç¼–å·æ ¼å¼ï¼ˆæ”¯æŒå¤šç§æ ¼å¼ï¼‰
            // if (!this.validateLicenseNumber(this.licenseNumber)) {
            //     alert('è®¸å¯è¯ç¼–å·æ ¼å¼ä¸æ­£ç¡®ï¼\n\næ”¯æŒçš„æ ¼å¼ï¼š\n1. ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç ï¼ˆ18ä½ï¼‰\n2. ä»“åº“åœ°å€ï¼ˆå¦‚ github.com/user/repoï¼‰\n3. æ—¶é—´ç¼–å·ï¼ˆ14ä½æ•°å­—ï¼‰');
            //     return;
            // }

            // 1. ç”Ÿæˆ ECDSA å¯†é’¥å¯¹ (P-256 æ›²çº¿ï¼Œå¯¹åº”Javaçš„EC 256ä½)
            this.keyPair = this.ec.genKeyPair();

            // 2. è·å–å…¬é’¥ (DERæ ¼å¼ï¼ŒBase64ç¼–ç  - åŒ¹é…Javaçš„å®ç°)
            const publicKeyDER = this.getPublicKeyDER();
            const publicKeyBase64 = this.arrayBufferToBase64(publicKeyDER);

            // 3. å¯¹æˆæƒåç§°è¿›è¡Œç­¾å (åŒ¹é…Javaçš„SHA256withECDSA)
            // Javaä½¿ç”¨çš„æ˜¯data.getBytes()ï¼Œé»˜è®¤ä½¿ç”¨ç³»ç»Ÿç¼–ç ï¼Œè¿™é‡Œä½¿ç”¨UTF-8ç¡®ä¿ä¸€è‡´æ€§
            const messageBytes = new TextEncoder().encode(this.licenseName);
            const messageHash = await this.sha256(messageBytes);
            this.signature = this.keyPair.sign(Array.from(new Uint8Array(messageHash)));
            const signatureBase64 = this.signatureToBase64(this.signature);

            // 4. æ˜¾ç¤ºç»“æœ
            this.displayResults(publicKeyBase64, signatureBase64);


        } catch (error) {
            console.error('ç”Ÿæˆè®¸å¯è¯æ—¶å‡ºé”™:', error);
            alert('ç”Ÿæˆè®¸å¯è¯æ—¶å‡ºé”™: ' + error.message);
        }
    }

    // å°†æ¤­åœ†æ›²çº¿å…¬é’¥è½¬æ¢ä¸ºDERæ ¼å¼ (åŒ¹é…Javaçš„X509EncodedKeySpecæ ¼å¼)
    getPublicKeyDER() {
        const publicKeyPoint = this.keyPair.getPublic();
        const x = publicKeyPoint.getX().toArray('be', 32);
        const y = publicKeyPoint.getY().toArray('be', 32);
        
        // P-256æ›²çº¿çš„DERç¼–ç æ ¼å¼
        // SEQUENCE { SEQUENCE { OBJECT IDENTIFIER, NULL }, BIT STRING }
        const algorithmIdentifier = new Uint8Array([
            0x30, 0x13, // SEQUENCE, length 19
            0x06, 0x07, 0x2a, 0x86, 0x48, 0xce, 0x3d, 0x02, 0x01, // ecPublicKey OID
            0x06, 0x08, 0x2a, 0x86, 0x48, 0xce, 0x3d, 0x03, 0x01, 0x07 // prime256v1 OID
        ]);
        
        const publicKeyBytes = new Uint8Array([0x04, ...x, ...y]); // æœªå‹ç¼©æ ¼å¼
        const bitString = new Uint8Array([0x03, publicKeyBytes.length + 1, 0x00, ...publicKeyBytes]);
        
        const derBytes = new Uint8Array([
            0x30, algorithmIdentifier.length + bitString.length, // SEQUENCE
            ...algorithmIdentifier,
            ...bitString
        ]);
        
        return derBytes;
    }

    // SHA256 å“ˆå¸Œå‡½æ•°
    async sha256(data) {
        return await crypto.subtle.digest('SHA-256', data);
    }

    // å°†ç­¾åè½¬æ¢ä¸ºBase64æ ¼å¼
    signatureToBase64(signature) {
        // å°†rå’Œså€¼è½¬æ¢ä¸ºDERç¼–ç çš„ASN.1æ ¼å¼ (åŒ¹é…Javaçš„ç­¾åæ ¼å¼)
        const r = signature.r.toArray('be');
        const s = signature.s.toArray('be');
        
        const rLen = r.length;
        const sLen = s.length;
        
        // DERç¼–ç : SEQUENCE { INTEGER r, INTEGER s }
        const derSig = new Uint8Array([
            0x30, rLen + sLen + 4, // SEQUENCE
            0x02, rLen, ...r,      // INTEGER r
            0x02, sLen, ...s       // INTEGER s
        ]);
        
        return this.arrayBufferToBase64(derSig);
    }

    // ArrayBufferè½¬Base64
    arrayBufferToBase64(buffer) {
        const bytes = new Uint8Array(buffer);
        let binary = '';
        for (let i = 0; i < bytes.byteLength; i++) {
            binary += String.fromCharCode(bytes[i]);
        }
        return btoa(binary);
    }

    // æ˜¾ç¤ºç”Ÿæˆç»“æœ
    displayResults(publicKeyBase64, signatureBase64) {
        // feat_users.yaml é…ç½®
        const featUsersConfig = `users:
  ${this.licenseNumber}:
    name: ${this.licenseName}
    license: ${signatureBase64}`;

        // feat.yml é…ç½®
        const featYmlConfig = `license: ${this.licenseNumber}_${publicKeyBase64}`;
        
        // ç¯å¢ƒå˜é‡ç¤ºä¾‹
        const licenseEnvExample = `${this.licenseNumber}_${publicKeyBase64}`;

        // æ˜¾ç¤ºé…ç½®
        const featUsersConfigElement = document.getElementById('featUsersConfig');
        const featYmlConfigElement = document.getElementById('featYmlConfig');
        const licenseEnvExampleElements = document.querySelectorAll('#licenseEnvExample, #licenseEnvExample2, #licenseEnvExample3, #licenseEnvExample6, #licenseEnvExample7');
                    
        if (featUsersConfigElement) {
            featUsersConfigElement.textContent = featUsersConfig;
        }
                    
        if (featYmlConfigElement) {
            featYmlConfigElement.textContent = featYmlConfig;
        }
        
        // æ›´æ–°ç¯å¢ƒå˜é‡ç¤ºä¾‹
        licenseEnvExampleElements.forEach(element => {
            element.textContent = licenseEnvExample;
        });
        
        // æ˜¾ç¤ºç»“æœåŒºåŸŸ
        const resultsSection = document.getElementById('resultsSection');
        if (resultsSection) {
            resultsSection.style.display = 'block';
        }
    }


}

// åˆå§‹åŒ–è®¸å¯è¯ç”Ÿæˆå™¨
document.addEventListener('DOMContentLoaded', () => {
    new LicenseGenerator();
});
</script>

<style>
.license-generator {
    max-width: 1000px;
    margin: 1rem auto;
    padding: 1rem;
    background: #f8fafc;
    border-radius: 8px;
    font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

.generator-header {
    text-align: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #e2e8f0;
}

.generator-header h2 {
    color: #1e293b;
    margin-bottom: 0.25rem;
    font-size: 1.5rem;
    font-weight: 600;
}

.generator-header p {
    color: #64748b;
    font-size: 0.9rem;
}

.form-section {
    background: white;
    padding: 1.5rem;
    border-radius: 6px;
    margin-bottom: 1.5rem;
    border: 1px solid #e2e8f0;
}

.input-group {
    margin-bottom: 1rem;
}

.input-group label {
    display: block;
    margin-bottom: 0.25rem;
    font-weight: 500;
    color: #374151;
    font-size: 0.9rem;
}

.input-group input {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid #e5e7eb;
    border-radius: 4px;
    font-size: 0.9rem;
}

.input-group input:focus {
    outline: none;
    border-color: #3b82f6;
}

.input-with-button {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.input-with-button input {
    flex: 1;
}

.auto-generate-btn {
    padding: 0.5rem 0.75rem;
    background: #e2e8f0;
    color: #1e293b;
    border: 1px solid #cbd5e1;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 500;
    cursor: pointer;
}

.auto-generate-btn:hover {
    background: #cbd5e1;
}

.license-examples {
    margin-top: 0.5rem;
    padding: 0.5rem;
    background: #f1f5f9;
    border-radius: 4px;
    border: 1px solid #e2e8f0;
    font-size: 0.75rem;
    line-height: 1.4;
}

.example-label {
    font-weight: 500;
    color: #374151;
}

.example-code {
    background: #e2e8f0;
    padding: 0.15rem 0.3rem;
    border-radius: 2px;
    font-family: monospace;
    color: #4f46e5;
    margin: 0 0.15rem;
    display: inline-block;
}

.button-group {
    display: flex;
    gap: 0.75rem;
    justify-content: center;
    margin-top: 1.5rem;
}

.generate-btn {
    padding: 0.5rem 1.5rem;
    background: #3b82f6;
    color: white;
    border: 1px solid #3b82f6;
    border-radius: 4px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
}

.generate-btn:hover {
    background: #2563eb;
}

.results-section {
    background: white;
    padding: 1.5rem;
    border-radius: 6px;
    border: 1px solid #e2e8f0;
}

.results-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
}

.result-card {
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    overflow: hidden;
}

.result-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem 1rem;
    background: #f1f5f9;
    border-bottom: 1px solid #e2e8f0;
}

.result-header h3 {
    color: #1e293b;
    margin: 0;
    font-size: 1.1rem;
}

.instructions-card .result-header {
    background: #dbeafe;
}

.config-output {
    background: #1e293b;
    color: #e2e8f0;
    padding: 1rem;
    font-family: monospace;
    font-size: 0.8rem;
    line-height: 1.4;
    overflow-x: auto;
    margin: 0;
    white-space: pre-wrap;
    word-wrap: break-word;
    word-break: break-word;
    max-width: 100%;
    min-height: 80px;
}

.usage-instructions {
    padding: 1rem;
}

.instruction-item {
    margin-bottom: 1rem;
}

.instruction-item:last-child {
    margin-bottom: 0;
}

.instruction-item h4 {
    color: #1e293b;
    margin-bottom: 0.5rem;
    font-size: 1rem;
    font-weight: 500;
}

.instruction-item ol,
.instruction-item ul {
    padding-left: 1.25rem;
    margin: 0;
}

.instruction-item li {
    margin-bottom: 0.25rem;
    line-height: 1.5;
    color: #374151;
    font-size: 0.85rem;
}

.instruction-item a {
    color: #3b82f6;
    text-decoration: none;
}

.instruction-item a:hover {
    text-decoration: underline;
}

.instruction-item code {
    background: #e2e8f0;
    padding: 0.15rem 0.3rem;
    border-radius: 2px;
    font-family: monospace;
    color: #4f46e5;
    font-size: 0.75rem;
}

@media (max-width: 768px) {
    .license-generator {
        margin: 0.5rem;
        padding: 0.5rem;
    }
    
    .button-group {
        flex-direction: column;
    }
    
    .input-with-button {
        flex-direction: column;
        gap: 0.5rem;
    }
    
    .input-with-button input {
        order: 1;
    }
    
    .auto-generate-btn {
        order: 2;
        align-self: stretch;
    }
    
    .license-examples {
        font-size: 0.7rem;
    }
    
    .example-code {
        display: block;
        margin: 0.2rem 0;
        word-break: break-all;
    }
}

/* Tabå¯¼èˆªæ ·å¼ */
.tab-navigation {
    display: flex;
    gap: 0.25rem;
    margin: 0.75rem 0;
    flex-wrap: wrap;
}

.tab-button {
    padding: 0.4rem 0.75rem;
    background: #e2e8f0;
    border: 1px solid #cbd5e1;
    border-radius: 3px 3px 0 0;
    cursor: pointer;
    font-size: 0.85rem;
}

.tab-button:hover {
    background: #cbd5e1;
}

.tab-button.active {
    background: #3b82f6;
    color: white;
    border-color: #3b82f6;
}

/* Tabå†…å®¹æ ·å¼ */
.tab-content {
    border: 1px solid #e2e8f0;
    border-radius: 0 3px 3px 3px;
    padding: 0.75rem;
    margin-top: -1px;
    background: #ffffff;
}

.tab-pane {
    display: none;
}

.tab-pane.active {
    display: block;
}

.config-note {
    background: #f0f9ff;
    border-left: 3px solid #3b82f6;
    padding: 0.5rem;
    margin: 0.25rem 0;
    font-size: 0.8rem;
}

.config-note-list {
    background: #f0f9ff;
    border-left: 3px solid #3b82f6;
    padding: 0.5rem 0.5rem 0.5rem 1rem;
    margin: 0.25rem 0;
    font-size: 0.8rem;
}

.config-note-list li {
    margin-bottom: 0.25rem;
}
</style>