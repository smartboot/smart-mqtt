(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,56530,e=>{"use strict";var t=e.i(55372);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}e.s(["usePrevious",()=>r])},13641,e=>{"use strict";var t=e.i(55372),r=e.i(18363);function n(e){let[n,a]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,n;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,n=t.blockSize}else r=e.offsetWidth,n=e.offsetHeight;a({width:r,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),n}e.s(["useSize",()=>n])},35617,e=>{"use strict";let t=(0,e.i(20790).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t])},95150,e=>{"use strict";var t=e.i(35617);e.s(["CheckIcon",()=>t.default])},62639,e=>{"use strict";var t=e.i(55372),r=e.i(68229),n=e.i(42040),a=e.i(46398),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,n.createSlot)(`Primitive.${r}`),o=t.forwardRef((e,t)=>{let{asChild:n,...o}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n?i:r,{...o,ref:t})});return o.displayName=`Primitive.${r}`,{...e,[r]:o}},{});function o(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>o])},96409,e=>{"use strict";var t=e.i(55372),r=e.i(46398);function n(e,n){let a=t.createContext(n),i=e=>{let{children:n,...i}=e,o=t.useMemo(()=>i,Object.values(i));return(0,r.jsx)(a.Provider,{value:o,children:n})};return i.displayName=e+"Provider",[i,function(r){let i=t.useContext(a);if(i)return i;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function a(e,n=[]){let i=[],o=()=>{let r=i.map(e=>t.createContext(e));return function(n){let a=n?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...n,[e]:a}}),[n,a])}};return o.scopeName=e,[function(n,a){let o=t.createContext(a),s=i.length;i=[...i,a];let u=n=>{let{scope:a,children:i,...u}=n,l=a?.[e]?.[s]||o,c=t.useMemo(()=>u,Object.values(u));return(0,r.jsx)(l.Provider,{value:c,children:i})};return u.displayName=n+"Provider",[u,function(r,i){let u=i?.[e]?.[s]||o,l=t.useContext(u);if(l)return l;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${n}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=n.reduce((t,{useScope:r,scopeName:n})=>{let a=r(e)[`__scope${n}`];return{...t,...a}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:a}),[a])}};return n.scopeName=r.scopeName,n}(o,...n)]}e.s(["createContext",()=>n,"createContextScope",()=>a])},84922,e=>{"use strict";function t(e,r,{checkForDefaultPrevented:n=!0}={}){return function(t){if(e?.(t),!1===n||!t.defaultPrevented)return r?.(t)}}"u">typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>t])},18363,e=>{"use strict";var t=e.i(55372),r=globalThis?.document?t.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>r])},89796,e=>{"use strict";var t=e.i(55372),r=e.i(18363);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var n=t[" useInsertionEffect ".trim().toString()]||r.useLayoutEffect;function a({prop:e,defaultProp:r,onChange:a=()=>{},caller:i}){let[o,s,u]=function({defaultProp:e,onChange:r}){let[a,i]=t.useState(e),o=t.useRef(a),s=t.useRef(r);return n(()=>{s.current=r},[r]),t.useEffect(()=>{o.current!==a&&(s.current?.(a),o.current=a)},[a,o]),[a,i,s]}({defaultProp:r,onChange:a}),l=void 0!==e,c=l?e:o;{let r=t.useRef(void 0!==e);t.useEffect(()=>{let e=r.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}r.current=l},[l,i])}return[c,t.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&u.current?.(r)}else s(t)},[l,e,s,u])]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>a],89796)},5689,e=>{"use strict";var t=e.i(55372),r=e.i(63480),n=e.i(18363),a=e=>{var a;let o,s,{present:u,children:l}=e,c=function(e){var r,a;let[o,s]=t.useState(),u=t.useRef(null),l=t.useRef(e),c=t.useRef("none"),[d,p]=(r=e?"mounted":"unmounted",a={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>a[e][t]??e,r));return t.useEffect(()=>{let e=i(u.current);c.current="mounted"===d?e:"none"},[d]),(0,n.useLayoutEffect)(()=>{let t=u.current,r=l.current;if(r!==e){let n=c.current,a=i(t);e?p("MOUNT"):"none"===a||t?.display==="none"?p("UNMOUNT"):r&&n!==a?p("ANIMATION_OUT"):p("UNMOUNT"),l.current=e}},[e,p]),(0,n.useLayoutEffect)(()=>{if(o){let e,t=o.ownerDocument.defaultView??window,r=r=>{let n=i(u.current).includes(CSS.escape(r.animationName));if(r.target===o&&n&&(p("ANIMATION_END"),!l.current)){let r=o.style.animationFillMode;o.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===o.style.animationFillMode&&(o.style.animationFillMode=r)})}},n=e=>{e.target===o&&(c.current=i(u.current))};return o.addEventListener("animationstart",n),o.addEventListener("animationcancel",r),o.addEventListener("animationend",r),()=>{t.clearTimeout(e),o.removeEventListener("animationstart",n),o.removeEventListener("animationcancel",r),o.removeEventListener("animationend",r)}}p("ANIMATION_END")},[o,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:t.useCallback(e=>{u.current=e?getComputedStyle(e):null,s(e)},[])}}(u),d="function"==typeof l?l({present:c.isPresent}):t.Children.only(l),p=(0,r.useComposedRefs)(c.ref,(a=d,(s=(o=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in o&&o.isReactWarning)?a.ref:(s=(o=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in o&&o.isReactWarning)?a.props.ref:a.props.ref||a.ref));return"function"==typeof l||c.isPresent?t.cloneElement(d,{ref:p}):null};function i(e){return e?.animationName||"none"}a.displayName="Presence",e.s(["Presence",()=>a])},5545,e=>{"use strict";var t=e.i(46398),r=e.i(49627);function n({className:e,type:n,...a}){return(0,t.jsx)("input",{type:n,"data-slot":"input",className:(0,r.cn)("dark:bg-input/30 border-input focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 h-9 rounded-md border bg-transparent px-2.5 py-1 text-base shadow-xs transition-[color,box-shadow] file:h-7 file:text-sm file:font-medium focus-visible:ring-[3px] aria-invalid:ring-[3px] md:text-sm file:text-foreground placeholder:text-muted-foreground w-full min-w-0 outline-none file:inline-flex file:border-0 file:bg-transparent disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50",e),...a})}e.s(["Input",()=>n])},6583,e=>{"use strict";var t=e.i(46398),r=e.i(55372),n=e.i(62639),a=r.forwardRef((e,r)=>(0,t.jsx)(n.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label",e.s(["Label",()=>a,"Root",()=>a],46832);var i=e.i(46832),i=i,o=e.i(49627);function s({className:e,...r}){return(0,t.jsx)(i.Root,{"data-slot":"label",className:(0,o.cn)("gap-2 text-sm leading-none font-medium group-data-[disabled=true]:opacity-50 peer-disabled:opacity-50 flex items-center select-none group-data-[disabled=true]:pointer-events-none peer-disabled:cursor-not-allowed",e),...r})}e.s(["Label",()=>s],6583)},50852,e=>{"use strict";let t=(0,e.i(20790).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],50852)},19920,e=>{"use strict";let t=(0,e.i(20790).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],19920)},84521,e=>{"use strict";var t=e.i(56860);function r(){return t.default.post("/cluster/nodes")}function n(){return t.default.get("/cluster/metricCodes")}function a(e){return t.default.post("/cluster/metrics",e)}function i(){return t.default.post("/brokers")}function o(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(0)} KB`:e<0x40000000?`${(e/1024/1024).toFixed(0)} MB`:`${(e/1024/1024/1024).toFixed(2)} GB`}e.s(["formatMemory",()=>o,"getBrokerList",()=>i,"getClusterMetrics",()=>a,"getClusterNodes",()=>r,"getMetricCodes",()=>n,"metricNameMap",0,{topic_count:"Topic 数量",subscribe_relation:"订阅关系",bytes_sent:"发送字节数",bytes_received:"接收字节数",packets_publish_rate:"发布成功率",connection_count:"连接数",message_received:"接收消息数",message_sent:"发送消息数"}])},88374,e=>{"use strict";var t=e.i(46398),r=e.i(49627);function n({className:e,size:n="default",...a}){return(0,t.jsx)("div",{"data-slot":"card","data-size":n,className:(0,r.cn)("bg-card text-card-foreground gap-6 overflow-hidden rounded-xl border border-border/50 py-6 text-sm","shadow-sm transition-all duration-300","hover:shadow-md hover:border-border/80","has-[>img:first-child]:pt-0 data-[size=sm]:gap-4 data-[size=sm]:py-4","*:[img:first-child]:rounded-t-xl *:[img:last-child]:rounded-b-xl","group/card flex flex-col",e),...a})}function a({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("gap-1 rounded-t-xl px-6 group-data-[size=sm]/card:px-4 [.border-b]:pb-6 group-data-[size=sm]/card:[.border-b]:pb-4 group/card-header @container/card-header grid auto-rows-min items-start has-data-[slot=card-action]:grid-cols-[1fr_auto] has-data-[slot=card-description]:grid-rows-[auto_auto]",e),...n})}function i({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("text-base leading-normal font-medium group-data-[size=sm]/card:text-sm",e),...n})}function o({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...n})}function s({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6 group-data-[size=sm]/card:px-4",e),...n})}function u({className:e,...n}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("rounded-b-xl px-6 group-data-[size=sm]/card:px-4 [.border-t]:pt-6 group-data-[size=sm]/card:[.border-t]:pt-4 flex items-center",e),...n})}e.s(["Card",()=>n,"CardContent",()=>s,"CardDescription",()=>o,"CardFooter",()=>u,"CardHeader",()=>a,"CardTitle",()=>i])},71695,68981,705,32402,37194,15890,68395,62931,31157,e=>{"use strict";var t=e.i(56860);function r(e){return t.default.post("/user/login",e)}function n(){return t.default.post("/user/logout")}function a(){return t.default.get("/user/userInfo")}function i(e){return t.default.post("/connections",e)}function o(e){return t.default.post("/disconnection",e)}function s(e){return t.default.post("/subscriptions/topics",e)}function u(){return t.default.get("/metric/topic")}function l(e){return t.default.post("/system/user/list",e||{})}function c(e){return t.default.post("/system/user/add",e)}function d(e){return t.default.post("/system/user/delete",e)}function p(e){return t.default.post("/system/user/update",e)}function f(){return t.default.get("/api/bridge/list")}function m(e){return t.default.post("/api/bridge/add",e)}function g(e){return t.default.post("/api/bridge/update",e)}function x(e){return t.default.post("/api/bridge/remove",e)}function h(e){return t.default.post("/api/bridge/start",e)}function b(e){return t.default.post("/api/bridge/stop",e)}function v(e){return t.default.post("/api/bridge/test",e)}function y(){return t.default.post("/api/system/settings/get")}function w(e){return t.default.post("/api/system/settings/save",e)}function k(){return t.default.post("/api/system/version")}function C(){return t.default.post("/api/acl/get")}function N(e){return t.default.post("/api/acl/save",e)}function j(e){return t.default.post("/api/acl/secret",e)}function _(){return t.default.get("/api/content-data")}function S(e){return t.default.get("/api/popular/list",{params:e})}function I(e){return t.default.get(`/api/dashboard/data-overview/${e}`)}function E(e){return t.default.get("/api/dashboard/visit",{params:e})}function L(){return t.default.get("/api/dashboard/period-visits")}function P(e){return t.default.get("/api/dashboard/visits-detail",{params:e})}e.s(["getUserInfo",()=>a,"login",()=>r,"logout",()=>n],68981),e.i(84521),e.s(["disconnectConnection",()=>o,"getConnections",()=>i],705),e.s(["getTopicList",()=>s,"getTopicMetrics",()=>u],32402),e.i(43040),e.s(["addUser",()=>c,"deleteUser",()=>d,"getUserList",()=>l,"updateUser",()=>p],37194),e.s(["addBridge",()=>m,"getBridgeList",()=>f,"removeBridge",()=>x,"startBridge",()=>h,"stopBridge",()=>b,"testBridge",()=>v,"updateBridge",()=>g],15890),e.s(["getSystemSettings",()=>y,"getVersionInfo",()=>k,"saveSystemSettings",()=>w],68395),e.s(["generateAclSecret",()=>j,"getAclConfig",()=>C,"saveAclConfig",()=>N],62931),e.i(93573),e.s(["getContentData",()=>_,"getDataOverview",()=>I,"getPeriodVisits",()=>L,"getPopularList",()=>S,"getVisitData",()=>E,"getVisitsDetail",()=>P],31157),e.i(52352),e.s([],71695)},43040,e=>{"use strict";var t=e.i(56860);function r(e){return t.default.post("/plugin/list",e||{})}function n(){return t.default.get("/plugin/current")}function a(e){return t.default.get(`/plugin/${e}/config`)}function i(e){return t.default.get(`/plugin/${e}/config?format=json`)}function o(e,r,n){return t.default.post(`/plugin/${e}/config/save`,{config:r,restart:n})}function s(e){return t.default.post(`/plugin/enable?id=${e}`)}function u(e){return t.default.post(`/plugin/disable?id=${e}`)}function l(e){return t.default.post(`/plugin/uninstall?id=${e}`)}function c(){return t.default.get("/plugin/market")}function d(e,t,r){let n=new EventSource(`/api/plugin/download?url=${encodeURIComponent(e)}`);return n.onmessage=t,r&&(n.onerror=r),{close:()=>n.close()}}function p(e){let r=new FormData;return r.append("plugin",e),t.default.post("/plugin/upload",r,{headers:{"Content-Type":"multipart/form-data"}})}function f(e){return t.default.get(`/plugin/${e}/schema`)}e.s(["disablePlugin",()=>u,"enablePlugin",()=>s,"getCurrentPlugin",()=>n,"getMarketPlugins",()=>c,"getPluginConfig",()=>a,"getPluginConfigAsJson",()=>i,"getPluginList",()=>r,"getPluginSchema",()=>f,"installPlugin",()=>d,"uninstallPlugin",()=>l,"updatePluginConfig",()=>o,"uploadPlugin",()=>p])},93573,52352,e=>{"use strict";var t=e.i(56860),r=e.i(28237),n=e.i(57171);let a="SUXJUU52RK6DTPZOKOOOWG0BLYEK1BHT7YERNSK6",i=n.default.create({baseURL:"https://api.moark.com/v1",timeout:3e4,headers:{"Content-Type":"application/json"}}),o=null;function s(e){o=e}async function u(e,t){let r={};return t&&(r["X-Dev-Mode"]="true"),(await i.get("/app",{params:{appid:e},headers:r})).data}async function l(e,t){return(await i.post("/token",{app_id:t?.app_id,expired_in:t?.expired_in||3600},{headers:{Authorization:`Bearer ${e}`}})).data}async function c(e){return(await i.post("/app/auth/vcode",{appid:e.appid,mobile:e.mobile,email:e.email,channel_type:e.channel_type},{headers:{Authorization:`Bearer ${a}`}})).data}async function d(e){return(await i.post("/app/auth/token",{appid:e.appid,channel_type:e.channel_type||"sms",mobile:e.mobile,email:e.email,code:e.code},{headers:{Authorization:`Bearer ${a}`}})).data.access_token}async function p(e){return(await i.get("/token/packageBalance",{headers:{Authorization:`Bearer ${e}`}})).data}async function f(e,t){return(await i.post("/app/pay",{plan_ident:t.plan_ident,quantity:t.quantity||1,amount:t.amount,type:t.type},{headers:{Authorization:`Bearer ${e}`}})).data}async function m(e,t){return(await i.get("/app/pay",{params:{ident:t},headers:{Authorization:`Bearer ${e}`}})).data}async function g(e,t){return(await i.get("/app/pays",{params:{page:t?.page||1,size:t?.size||10,status:t?.status},headers:{Authorization:`Bearer ${e}`}})).data}async function x(e){return(await i.get("/app/user",{headers:{Authorization:`Bearer ${e}`}})).data}i.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(sessionStorage.removeItem("moark_access_token"),o&&o()),Promise.reject(e)));let h=r.default.env.NEXT_PUBLIC_LICENSE_SERVER_URL||"/api/license-server",b=n.default.create({baseURL:h,timeout:3e4,headers:{"Content-Type":"application/json"}});async function v(e){return(await b.post("/order/create",{app_id:e.appId,plan_ident:e.planIdent,period_quantity:e.periodQuantity,applicant:e.applicant,contact_phone:e.contactPhone,moark_token:e.moarkToken})).data}async function y(e,t){return(await b.get(`/order/${e}/status`,{headers:{"X-Moark-Token":t}})).data}async function w(e,t){return(await b.get(`/order/${e}/download`,{headers:{"X-Moark-Token":t},responseType:"blob"})).data}function k(e){return e?new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}):""}async function C(){var e,r;let n=await t.default.post("/license/get"),a=n.trialDuration>0;return{type:a?"试用版":"企业版",valid:!(e=n.expireTime)||Date.now()<e,isTrial:a,trialMinutes:a?n.trialDuration:0,trialDurationText:function(e){if(e<=0)return"";let t=Math.floor(e/1440),r=Math.floor(e%1440/60);return t>0?`${t}天`:r>0?`${r}小时`:`${e%60}分钟`}(n.trialDuration),startDate:k(n.startTime),expireDate:k(n.expireTime),applicant:n.applicant||"",sn:n.sn||"",maxConnections:function(e){if(!e||"无限制"===e)return 1/0;let t=e.match(/(\d+)/);return t?parseInt(t[1],10):0}(n.limit),features:(r=n.available)?r.split(",").filter(e=>e.trim()):[]}}function N(e){return t.default.post("/license/import",e,{headers:{"Content-Type":"multipart/form-data"}})}async function j(e){return(await l(e)).token}async function _(e){return await u(e,!1)}async function S(e){return await v(e)}async function I(e,t){return await y(e,t)}async function E(e,t){return await w(e,t)}e.s(["PaymentStatus",0,{PENDING:"pending",PAID:"paid",EXPIRED:"expired",FAILED:"failed"},"createLicenseOrder",()=>v,"createMoarkPayment",()=>f,"createTemporaryToken",()=>l,"downloadLicenseFile",()=>w,"getAppInfo",()=>u,"getMoarkUserInfo",()=>x,"getUserAccessToken",()=>d,"queryLicenseOrderStatus",()=>y,"queryMoarkOrderStatus",()=>m,"queryMoarkPaymentList",()=>g,"queryPackageBalance",()=>p,"sendVerifyCode",()=>c,"setMoarkUnauthorizedCallback",()=>s],52352),e.s(["applyStepAuthenticate",()=>j,"applyStepCreateOrder",()=>S,"applyStepDownloadLicense",()=>E,"applyStepGetAppInfo",()=>_,"applyStepQueryStatus",()=>I,"getLicenseInfo",()=>C,"importLicense",()=>N],93573)},45300,e=>{"use strict";var t=e.i(46398),r=e.i(49627);let n={sm:{container:"h-8 w-8",icon:"h-4 w-4",text:"text-sm"},md:{container:"h-10 w-10",icon:"h-5 w-5",text:"text-base"},lg:{container:"h-12 w-12",icon:"h-6 w-6",text:"text-lg"},xl:{container:"h-16 w-16",icon:"h-8 w-8",text:"text-2xl"}};function a({className:e,size:a="lg",variant:i="default"}){let o=n[a];return(0,t.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center gap-4",e),children:[(0,t.jsx)("div",{className:(0,r.cn)("relative flex items-center justify-center rounded-2xl","default"===i?"bg-gradient-to-br from-primary to-primary/80":"bg-white/10 backdrop-blur","shadow-xl shadow-primary/30",o.container,"animate-pulse"),children:(0,t.jsxs)("svg",{viewBox:"0 0 48 48",fill:"none",className:(0,r.cn)(o.icon,"default"===i?"text-primary-foreground":"text-white"),xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("g",{className:"origin-center animate-[spin_8s_linear_infinite]",children:(0,t.jsx)("circle",{cx:"24",cy:"24",r:"20",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"6 4",opacity:"0.5"})}),(0,t.jsx)("g",{className:"origin-center animate-[spin_6s_linear_infinite_reverse]",children:(0,t.jsx)("circle",{cx:"24",cy:"24",r:"14",stroke:"currentColor",strokeWidth:"2",opacity:"0.7"})}),(0,t.jsx)("circle",{cx:"24",cy:"24",r:"7",fill:"currentColor",className:"animate-pulse"}),(0,t.jsx)("line",{x1:"24",y1:"4",x2:"24",y2:"10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"24",y1:"38",x2:"24",y2:"44",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"4",y1:"24",x2:"10",y2:"24",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"38",y1:"24",x2:"44",y2:"24",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),(0,t.jsx)("circle",{cx:"24",cy:"4",r:"3",fill:"currentColor"}),(0,t.jsx)("circle",{cx:"24",cy:"44",r:"3",fill:"currentColor"}),(0,t.jsx)("circle",{cx:"4",cy:"24",r:"3",fill:"currentColor"}),(0,t.jsx)("circle",{cx:"44",cy:"24",r:"3",fill:"currentColor"})]})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:(0,r.cn)("block font-bold tracking-tight text-xl","default"===i?"text-foreground":"text-white"),children:"Smart MQTT"}),(0,t.jsx)("span",{className:(0,r.cn)("text-sm tracking-wide","default"===i?"text-muted-foreground":"text-white/70"),children:"企业级 MQTT Broker 管理平台"})]})]})}e.s(["LogoAnimated",()=>a])},35907,(e,t,r)=>{t.exports=e.r(98599)},79437,e=>{"use strict";var t=e.i(46398),r=e.i(55372),n=e.i(35907),a=e.i(38433),i=e.i(5545),o=e.i(6583),s=e.i(88374),u=e.i(63480),l=e.i(96409),c=e.i(84922),d=e.i(89796),p=e.i(56530),f=e.i(13641),m=e.i(5689),g=e.i(62639),x="Checkbox",[h,b]=(0,l.createContextScope)(x),[v,y]=h(x);function w(e){let{__scopeCheckbox:n,checked:a,children:i,defaultChecked:o,disabled:s,form:u,name:l,onCheckedChange:c,required:p,value:f="on",internal_do_not_use_render:m}=e,[g,h]=(0,d.useControllableState)({prop:a,defaultProp:o??!1,onChange:c,caller:x}),[b,y]=r.useState(null),[w,k]=r.useState(null),C=r.useRef(!1),N=!b||!!u||!!b.closest("form"),j={checked:g,disabled:s,setChecked:h,control:b,setControl:y,name:l,form:u,value:f,hasConsumerStoppedPropagationRef:C,required:p,defaultChecked:!E(o)&&o,isFormControl:N,bubbleInput:w,setBubbleInput:k};return(0,t.jsx)(v,{scope:n,...j,children:"function"==typeof m?m(j):i})}var k="CheckboxTrigger",C=r.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:a,...i},o)=>{let{control:s,value:l,disabled:d,checked:p,required:f,setControl:m,setChecked:x,hasConsumerStoppedPropagationRef:h,isFormControl:b,bubbleInput:v}=y(k,e),w=(0,u.useComposedRefs)(o,m),C=r.useRef(p);return r.useEffect(()=>{let e=s?.form;if(e){let t=()=>x(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[s,x]),(0,t.jsx)(g.Primitive.button,{type:"button",role:"checkbox","aria-checked":E(p)?"mixed":p,"aria-required":f,"data-state":L(p),"data-disabled":d?"":void 0,disabled:d,value:l,...i,ref:w,onKeyDown:(0,c.composeEventHandlers)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,c.composeEventHandlers)(a,e=>{x(e=>!!E(e)||!e),v&&b&&(h.current=e.isPropagationStopped(),h.current||e.stopPropagation())})})});C.displayName=k;var N=r.forwardRef((e,r)=>{let{__scopeCheckbox:n,name:a,checked:i,defaultChecked:o,required:s,disabled:u,value:l,onCheckedChange:c,form:d,...p}=e;return(0,t.jsx)(w,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:u,required:s,onCheckedChange:c,name:a,form:d,value:l,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C,{...p,ref:r,__scopeCheckbox:n}),e&&(0,t.jsx)(I,{__scopeCheckbox:n})]})})});N.displayName=x;var j="CheckboxIndicator",_=r.forwardRef((e,r)=>{let{__scopeCheckbox:n,forceMount:a,...i}=e,o=y(j,n);return(0,t.jsx)(m.Presence,{present:a||E(o.checked)||!0===o.checked,children:(0,t.jsx)(g.Primitive.span,{"data-state":L(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});_.displayName=j;var S="CheckboxBubbleInput",I=r.forwardRef(({__scopeCheckbox:e,...n},a)=>{let{control:i,hasConsumerStoppedPropagationRef:o,checked:s,defaultChecked:l,required:c,disabled:d,name:m,value:x,form:h,bubbleInput:b,setBubbleInput:v}=y(S,e),w=(0,u.useComposedRefs)(a,v),k=(0,p.usePrevious)(s),C=(0,f.useSize)(i);r.useEffect(()=>{if(!b)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!o.current;if(k!==s&&e){let r=new Event("click",{bubbles:t});b.indeterminate=E(s),e.call(b,!E(s)&&s),b.dispatchEvent(r)}},[b,k,s,o]);let N=r.useRef(!E(s)&&s);return(0,t.jsx)(g.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:c,disabled:d,name:m,value:x,form:h,...n,tabIndex:-1,ref:w,style:{...n.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function E(e){return"indeterminate"===e}function L(e){return E(e)?"indeterminate":e?"checked":"unchecked"}I.displayName=S,e.s(["Checkbox",()=>N,"CheckboxIndicator",()=>_,"Indicator",()=>_,"Root",()=>N,"createCheckboxScope",()=>b,"unstable_BubbleInput",()=>I,"unstable_CheckboxBubbleInput",()=>I,"unstable_CheckboxProvider",()=>w,"unstable_CheckboxTrigger",()=>C,"unstable_Provider",()=>w,"unstable_Trigger",()=>C],95679);var P=e.i(95679),P=P,T=e.i(49627),M=e.i(95150);function R({className:e,...r}){return(0,t.jsx)(P.Root,{"data-slot":"checkbox",className:(0,T.cn)("border-input dark:bg-input/30 data-checked:bg-primary data-checked:text-primary-foreground dark:data-checked:bg-primary data-checked:border-primary aria-invalid:aria-checked:border-primary aria-invalid:border-destructive dark:aria-invalid:border-destructive/50 focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 flex size-4 items-center justify-center rounded-[4px] border shadow-xs transition-shadow group-has-disabled/field:opacity-50 focus-visible:ring-[3px] aria-invalid:ring-[3px] peer relative shrink-0 outline-none after:absolute after:-inset-x-3 after:-inset-y-2 disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(P.Indicator,{"data-slot":"checkbox-indicator",className:"[&>svg]:size-3.5 grid place-content-center text-current transition-none",children:(0,t.jsx)(M.CheckIcon,{})})})}var D=e.i(50852),A=e.i(19920),$=e.i(16378),B=e.i(45300);e.i(71695);var O=e.i(68981);function z(){let e=(0,n.useRouter)(),[u,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[m,g]=(0,r.useState)({username:"",password:"",rememberMe:!1,autoLogin:!1});(0,r.useEffect)(()=>{let e=localStorage.getItem("remember_username"),t=localStorage.getItem("remember_password"),r=localStorage.getItem("remember_password_flag"),n=localStorage.getItem("auto_login_flag");"true"===r&&g(r=>({...r,rememberMe:!0,username:e||"",password:t||""})),"true"===n&&g(e=>({...e,autoLogin:!0}))},[]),(0,r.useEffect)(()=>{let e=localStorage.getItem("auto_login_flag"),t=localStorage.getItem("remember_username"),r=localStorage.getItem("remember_password");if("true"===e&&t&&r){let e=setTimeout(()=>{x(t,r)},500);return()=>clearTimeout(e)}},[]);let x=async(t,r)=>{d(!0),f("");try{let n=await (0,O.login)({username:t,password:r});localStorage.setItem("token",n.token),localStorage.setItem("userInfo",JSON.stringify(n)),e.push("/dashboard")}catch(e){localStorage.removeItem("auto_login_flag"),g(e=>({...e,autoLogin:!1}))}finally{d(!1)}},h=async t=>{t.preventDefault(),d(!0),f("");try{let t=await (0,O.login)({username:m.username,password:m.password});m.rememberMe?(localStorage.setItem("remember_username",m.username),localStorage.setItem("remember_password",m.password),localStorage.setItem("remember_password_flag","true")):(localStorage.removeItem("remember_username"),localStorage.removeItem("remember_password"),localStorage.removeItem("remember_password_flag")),m.autoLogin?localStorage.setItem("auto_login_flag","true"):localStorage.removeItem("auto_login_flag"),localStorage.setItem("token",t.token),localStorage.setItem("userInfo",JSON.stringify(t)),e.push("/dashboard")}catch(e){f(e.message||"登录失败，请检查用户名和密码")}finally{d(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsx)("div",{className:"flex justify-center mb-8",children:(0,t.jsx)(B.LogoAnimated,{size:"lg"})}),(0,t.jsxs)(s.Card,{className:"shadow-xl",children:[(0,t.jsxs)(s.CardHeader,{className:"space-y-1",children:[(0,t.jsx)(s.CardTitle,{className:"text-2xl text-center",children:"欢迎回来"}),(0,t.jsx)(s.CardDescription,{className:"text-center",children:"请输入您的账号和密码登录系统"})]}),(0,t.jsxs)("form",{onSubmit:h,children:[(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[p&&(0,t.jsx)("div",{className:"p-3 text-sm text-red-500 bg-red-50 rounded-md",children:p}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"username",children:"用户名"}),(0,t.jsx)(i.Input,{id:"username",placeholder:"请输入用户名",value:m.username,onChange:e=>g({...m,username:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"password",children:"密码"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Input,{id:"password",type:u?"text":"password",placeholder:"请输入密码",value:m.password,onChange:e=>g({...m,password:e.target.value}),required:!0}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>l(!u),children:u?(0,t.jsx)(A.EyeOff,{className:"h-4 w-4 text-muted-foreground"}):(0,t.jsx)(D.Eye,{className:"h-4 w-4 text-muted-foreground"})})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R,{id:"remember",checked:m.rememberMe,onCheckedChange:e=>g({...m,rememberMe:!0===e})}),(0,t.jsx)(o.Label,{htmlFor:"remember",className:"text-sm cursor-pointer",children:"记住密码"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(R,{id:"autoLogin",checked:m.autoLogin,onCheckedChange:e=>g({...m,autoLogin:!0===e})}),(0,t.jsx)(o.Label,{htmlFor:"autoLogin",className:"text-sm cursor-pointer",children:"自动登录"})]})]})})]}),(0,t.jsx)(s.CardFooter,{className:"flex flex-col space-y-4",children:(0,t.jsx)(a.Button,{type:"submit",className:"w-full",disabled:c,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)($.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"登录中..."]}):"登录"})})]})]}),(0,t.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-8",children:"© 2024 smart-mqtt Broker. All rights reserved."})]})})}e.s(["default",()=>z],79437)}]);