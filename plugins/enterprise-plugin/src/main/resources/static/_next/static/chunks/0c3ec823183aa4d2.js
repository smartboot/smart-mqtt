(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50852,e=>{"use strict";let t=(0,e.i(20790).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],50852)},43040,e=>{"use strict";var t=e.i(56860);function a(e){return t.default.post("/plugin/list",e||{})}function s(){return t.default.get("/plugin/current")}function r(e){return t.default.get(`/plugin/${e}/config`)}function i(e){return t.default.get(`/plugin/${e}/config?format=json`)}function n(e,a,s){return t.default.post(`/plugin/${e}/config/save`,{config:a,restart:s})}function l(e){return t.default.post(`/plugin/enable?id=${e}`)}function d(e){return t.default.post(`/plugin/disable?id=${e}`)}function o(e){return t.default.post(`/plugin/uninstall?id=${e}`)}function c(){return t.default.get("/plugin/market")}function u(e,t,a){let s=new EventSource(`/api/plugin/download?url=${encodeURIComponent(e)}`);return s.onmessage=t,a&&(s.onerror=a),{close:()=>s.close()}}function x(e){let a=new FormData;return a.append("plugin",e),t.default.post("/plugin/upload",a,{headers:{"Content-Type":"multipart/form-data"}})}function g(e){return t.default.get(`/plugin/${e}/schema`)}e.s(["disablePlugin",()=>d,"enablePlugin",()=>l,"getCurrentPlugin",()=>s,"getMarketPlugins",()=>c,"getPluginConfig",()=>r,"getPluginConfigAsJson",()=>i,"getPluginList",()=>a,"getPluginSchema",()=>g,"installPlugin",()=>u,"uninstallPlugin",()=>o,"updatePluginConfig",()=>n,"uploadPlugin",()=>x])},84521,e=>{"use strict";var t=e.i(56860);function a(){return t.default.post("/cluster/nodes")}function s(){return t.default.get("/cluster/metricCodes")}function r(e){return t.default.post("/cluster/metrics",e)}function i(){return t.default.post("/brokers")}function n(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(0)} KB`:e<0x40000000?`${(e/1024/1024).toFixed(0)} MB`:`${(e/1024/1024/1024).toFixed(2)} GB`}e.s(["formatMemory",()=>n,"getBrokerList",()=>i,"getClusterMetrics",()=>r,"getClusterNodes",()=>a,"getMetricCodes",()=>s,"metricNameMap",0,{topic_count:"Topic 数量",subscribe_relation:"订阅关系",bytes_sent:"发送字节数",bytes_received:"接收字节数",packets_publish_rate:"发布成功率",connection_count:"连接数",message_received:"接收消息数",message_sent:"发送消息数"}])},71695,68981,705,32402,37194,15890,68395,62931,31157,e=>{"use strict";var t=e.i(56860);function a(e){return t.default.post("/user/login",e)}function s(){return t.default.post("/user/logout")}function r(){return t.default.get("/user/userInfo")}function i(e){return t.default.post("/connections",e)}function n(e){return t.default.post("/disconnection",e)}function l(e){return t.default.post("/subscriptions/topics",e)}function d(){return t.default.get("/metric/topic")}function o(e){return t.default.post("/system/user/list",e||{})}function c(e){return t.default.post("/system/user/add",e)}function u(e){return t.default.post("/system/user/delete",e)}function x(e){return t.default.post("/system/user/update",e)}function g(){return t.default.get("/api/bridge/list")}function m(e){return t.default.post("/api/bridge/add",e)}function p(e){return t.default.post("/api/bridge/update",e)}function f(e){return t.default.post("/api/bridge/remove",e)}function h(e){return t.default.post("/api/bridge/start",e)}function j(e){return t.default.post("/api/bridge/stop",e)}function v(e){return t.default.post("/api/bridge/test",e)}function b(){return t.default.post("/api/system/settings/get")}function N(e){return t.default.post("/api/system/settings/save",e)}function y(){return t.default.post("/api/system/version")}function w(){return t.default.post("/api/acl/get")}function C(e){return t.default.post("/api/acl/save",e)}function T(e){return t.default.post("/api/acl/secret",e)}function k(){return t.default.get("/api/content-data")}function D(e){return t.default.get("/api/popular/list",{params:e})}function B(e){return t.default.get(`/api/dashboard/data-overview/${e}`)}function P(e){return t.default.get("/api/dashboard/visit",{params:e})}function S(){return t.default.get("/api/dashboard/period-visits")}function M(e){return t.default.get("/api/dashboard/visits-detail",{params:e})}e.s(["getUserInfo",()=>r,"login",()=>a,"logout",()=>s],68981),e.i(84521),e.s(["disconnectConnection",()=>n,"getConnections",()=>i],705),e.s(["getTopicList",()=>l,"getTopicMetrics",()=>d],32402),e.i(43040),e.s(["addUser",()=>c,"deleteUser",()=>u,"getUserList",()=>o,"updateUser",()=>x],37194),e.s(["addBridge",()=>m,"getBridgeList",()=>g,"removeBridge",()=>f,"startBridge",()=>h,"stopBridge",()=>j,"testBridge",()=>v,"updateBridge",()=>p],15890),e.s(["getSystemSettings",()=>b,"getVersionInfo",()=>y,"saveSystemSettings",()=>N],68395),e.s(["generateAclSecret",()=>T,"getAclConfig",()=>w,"saveAclConfig",()=>C],62931),e.i(93573),e.s(["getContentData",()=>k,"getDataOverview",()=>B,"getPeriodVisits",()=>S,"getPopularList",()=>D,"getVisitData",()=>P,"getVisitsDetail",()=>M],31157),e.i(52352),e.s([],71695)},1290,e=>{"use strict";var t=e.i(46398),a=e.i(49627);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto rounded-lg border border-border/50",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...s})})}function r({className:e,...s}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("bg-muted/50 [&_tr]:border-b",e),...s})}function i({className:e,...s}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...s})}function n({className:e,...s}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("border-b border-border/50 transition-colors duration-200","hover:bg-accent/30 data-[state=selected]:bg-accent",e),...s})}function l({className:e,...s}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("h-12 px-4 text-left align-middle font-semibold text-foreground/80","whitespace-nowrap [&:has([role=checkbox])]:pr-0",e),...s})}function d({className:e,...s}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-4 align-middle whitespace-nowrap","[&:has([role=checkbox])]:pr-0",e),...s})}e.s(["Table",()=>s,"TableBody",()=>i,"TableCell",()=>d,"TableHead",()=>l,"TableHeader",()=>r,"TableRow",()=>n])},72612,e=>{"use strict";let t=(0,e.i(20790).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],72612)},94578,e=>{"use strict";let t=(0,e.i(20790).default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);e.s(["Hash",()=>t],94578)},58778,e=>{"use strict";var t=e.i(46398),a=e.i(93919),s=e.i(49627),r=e.i(38433),i=e.i(96495);function n({...e}){return(0,t.jsx)(a.Dialog.Root,{"data-slot":"dialog",...e})}function l({...e}){return(0,t.jsx)(a.Dialog.Trigger,{"data-slot":"dialog-trigger",...e})}function d({...e}){return(0,t.jsx)(a.Dialog.Portal,{"data-slot":"dialog-portal",...e})}function o({className:e,...r}){return(0,t.jsx)(a.Dialog.Overlay,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/50 duration-100 supports-backdrop-filter:backdrop-blur-sm fixed inset-0 isolate z-50",e),...r})}function c({className:e,children:n,showCloseButton:l=!0,...c}){return(0,t.jsxs)(d,{children:[(0,t.jsx)(o,{}),(0,t.jsxs)(a.Dialog.Content,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 ring-foreground/10 grid max-w-[calc(100%-2rem)] gap-6 rounded-xl p-6 text-sm ring-1 duration-100 sm:max-w-md fixed top-1/2 left-1/2 z-50 w-full -translate-x-1/2 -translate-y-1/2 outline-none",e),...c,children:[n,l&&(0,t.jsx)(a.Dialog.Close,{"data-slot":"dialog-close",asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"ghost",className:"absolute top-4 right-4",size:"icon-sm",children:[(0,t.jsx)(i.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})})]})]})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("gap-2 flex flex-col",e),...a})}function x({className:e,showCloseButton:i=!1,children:n,...l}){return(0,t.jsxs)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("gap-2 flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...l,children:[n,i&&(0,t.jsx)(a.Dialog.Close,{asChild:!0,children:(0,t.jsx)(r.Button,{variant:"outline",children:"Close"})})]})}function g({className:e,...r}){return(0,t.jsx)(a.Dialog.Title,{"data-slot":"dialog-title",className:(0,s.cn)("leading-none font-medium",e),...r})}function m({className:e,...r}){return(0,t.jsx)(a.Dialog.Description,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground *:[a]:hover:text-foreground text-sm *:[a]:underline *:[a]:underline-offset-3",e),...r})}e.s(["Dialog",()=>n,"DialogContent",()=>c,"DialogDescription",()=>m,"DialogFooter",()=>x,"DialogHeader",()=>u,"DialogTitle",()=>g,"DialogTrigger",()=>l])},80421,e=>{"use strict";let t=(0,e.i(20790).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],80421)},88374,e=>{"use strict";var t=e.i(46398),a=e.i(49627);function s({className:e,size:s="default",...r}){return(0,t.jsx)("div",{"data-slot":"card","data-size":s,className:(0,a.cn)("bg-card text-card-foreground gap-6 overflow-hidden rounded-xl border border-border/50 py-6 text-sm","shadow-sm transition-all duration-300","hover:shadow-md hover:border-border/80","has-[>img:first-child]:pt-0 data-[size=sm]:gap-4 data-[size=sm]:py-4","*:[img:first-child]:rounded-t-xl *:[img:last-child]:rounded-b-xl","group/card flex flex-col",e),...r})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("gap-1 rounded-t-xl px-6 group-data-[size=sm]/card:px-4 [.border-b]:pb-6 group-data-[size=sm]/card:[.border-b]:pb-4 group/card-header @container/card-header grid auto-rows-min items-start has-data-[slot=card-action]:grid-cols-[1fr_auto] has-data-[slot=card-description]:grid-rows-[auto_auto]",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("text-base leading-normal font-medium group-data-[size=sm]/card:text-sm",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6 group-data-[size=sm]/card:px-4",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("rounded-b-xl px-6 group-data-[size=sm]/card:px-4 [.border-t]:pt-6 group-data-[size=sm]/card:[.border-t]:pt-4 flex items-center",e),...s})}e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>n,"CardFooter",()=>d,"CardHeader",()=>r,"CardTitle",()=>i])},697,e=>{"use strict";var t=e.i(46398),a=e.i(50596),s=e.i(49627);let r=(0,a.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive bg-destructive/10 border-destructive/20 [&>svg]:text-destructive dark:bg-destructive/20"}},defaultVariants:{variant:"default"}});function i({className:e,variant:a,...i}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,s.cn)(r({variant:a}),e),...i})}function n({className:e,...a}){return(0,t.jsx)("p",{"data-slot":"alert-description",className:(0,s.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...a})}e.s(["Alert",()=>i,"AlertDescription",()=>n])},77246,67917,e=>{"use strict";var t=e.i(20790);let a=(0,t.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>a],77246);let s=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>s],67917)},61533,e=>{"use strict";var t=e.i(46398),a=e.i(55372),s=e.i(96409),r=e.i(62639),i="Progress",[n,l]=(0,s.createContextScope)(i),[d,o]=n(i),c=a.forwardRef((e,a)=>{var s,i;let{__scopeProgress:n,value:l=null,max:o,getValueLabel:c=g,...u}=e;(o||0===o)&&!f(o)&&console.error((s=`${o}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let x=f(o)?o:100;null===l||h(l,x)||console.error((i=`${l}`,`Invalid prop \`value\` of value \`${i}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let j=h(l,x)?l:null,v=p(j)?c(j,x):void 0;return(0,t.jsx)(d,{scope:n,value:j,max:x,children:(0,t.jsx)(r.Primitive.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":p(j)?j:void 0,"aria-valuetext":v,role:"progressbar","data-state":m(j,x),"data-value":j??void 0,"data-max":x,...u,ref:a})})});c.displayName=i;var u="ProgressIndicator",x=a.forwardRef((e,a)=>{let{__scopeProgress:s,...i}=e,n=o(u,s);return(0,t.jsx)(r.Primitive.div,{"data-state":m(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...i,ref:a})});function g(e,t){return`${Math.round(e/t*100)}%`}function m(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function p(e){return"number"==typeof e}function f(e){return p(e)&&!isNaN(e)&&e>0}function h(e,t){return p(e)&&!isNaN(e)&&e<=t&&e>=0}x.displayName=u,e.s(["Indicator",()=>x,"Progress",()=>c,"ProgressIndicator",()=>x,"Root",()=>c,"createProgressScope",()=>l],10843);var j=e.i(10843),j=j,v=e.i(49627);function b({className:e,value:a,...s}){return(0,t.jsx)(j.Root,{"data-slot":"progress",className:(0,v.cn)("bg-muted h-1.5 rounded-full relative flex w-full items-center overflow-x-hidden",e),...s,children:(0,t.jsx)(j.Indicator,{"data-slot":"progress-indicator",className:"bg-primary size-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}e.s(["Progress",()=>b],61533)},24462,e=>{"use strict";var t=e.i(46398),a=e.i(55372),s=e.i(38433),r=e.i(5545),i=e.i(88805),n=e.i(61533),l=e.i(1290),d=e.i(88374),o=e.i(58778),c=e.i(697),u=e.i(77246),x=e.i(50852),g=e.i(67917),m=e.i(94578),p=e.i(72612),f=e.i(20790);let h=(0,f.default)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var j=e.i(44871),v=e.i(16378),b=e.i(80421);let N=(0,f.default)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);e.i(71695);var y=e.i(32402);function w(){let[e,f]=(0,a.useState)(""),[w,C]=(0,a.useState)([]),[T,k]=(0,a.useState)([]),[D,B]=(0,a.useState)(null),[P,S]=(0,a.useState)(!1),[M,z]=(0,a.useState)(null),[$,H]=(0,a.useState)(null),L=async()=>{try{let e=await (0,y.getTopicMetrics)();H(e)}catch(e){console.error("获取 Topic 指标失败:",e)}},R=async()=>{try{S(!0),z(null);let t=await (0,y.getTopicList)({topic:e||void 0,page:1,size:100});t?.list?(C(t.list),_(t.list)):(C([]),k([]))}catch(e){console.error("获取 Topic 列表失败:",e),z("获取 Topic 列表失败，请稍后重试"),C([]),k([])}finally{S(!1)}},_=t=>{k(t.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())))};return(0,a.useEffect)(()=>{R(),L()},[]),(0,a.useEffect)(()=>{_(w)},[e,w]),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Topic 管理"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"管理 MQTT Topic 订阅与发布"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:R,disabled:P,children:[P?(0,t.jsx)(v.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(j.RefreshCw,{className:"mr-2 h-4 w-4"}),"刷新"]})})]}),M&&(0,t.jsxs)(c.Alert,{variant:"destructive",children:[(0,t.jsx)(b.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(c.AlertDescription,{children:M})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)(d.Card,{className:"relative overflow-hidden card-hover border-border/50 bg-gradient-to-br from-card to-muted/30",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-purple-500/5 rounded-full -translate-y-1/2 translate-x-1/2"}),(0,t.jsx)(d.CardContent,{className:"relative flex items-center justify-between p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg shadow-purple-500/20",children:(0,t.jsx)(m.Hash,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Topic 总数"}),(0,t.jsx)("p",{className:"text-3xl font-bold tracking-tight",children:$?.totalTopic?.toLocaleString()??w.length})]})]})})]}),(0,t.jsxs)(d.Card,{className:"relative overflow-hidden card-hover border-border/50 bg-gradient-to-br from-card to-muted/30",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-blue-500/5 rounded-full -translate-y-1/2 translate-x-1/2"}),(0,t.jsx)(d.CardContent,{className:"relative flex items-center justify-between p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg shadow-blue-500/20",children:(0,t.jsx)(h,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"总订阅数"}),(0,t.jsx)("p",{className:"text-3xl font-bold tracking-tight",children:$?.totalSub?.toLocaleString()??"-"})]})]})})]}),(0,t.jsxs)(d.Card,{className:"relative overflow-hidden card-hover border-border/50 bg-gradient-to-br from-card to-muted/30",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 w-24 h-24 bg-green-500/5 rounded-full -translate-y-1/2 translate-x-1/2"}),(0,t.jsx)(d.CardContent,{className:"relative flex items-center justify-between p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-br from-green-500 to-green-600 shadow-lg shadow-green-500/20",children:(0,t.jsx)(N,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"订阅关系数"}),(0,t.jsx)("p",{className:"text-3xl font-bold tracking-tight",children:$?.totalRelation?.toLocaleString()??"-"})]})]})})]})]}),(0,t.jsxs)(d.Card,{children:[(0,t.jsx)(d.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.CardTitle,{children:"Topic 列表"}),(0,t.jsx)(d.CardDescription,{children:"所有已订阅的 Topic 信息"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(r.Input,{type:"search",placeholder:"搜索 Topic...",className:"w-64 pl-8",value:e,onChange:e=>f(e.target.value)})]})})]})}),(0,t.jsx)(d.CardContent,{children:P?(0,t.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,t.jsx)(v.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,t.jsxs)(l.Table,{children:[(0,t.jsx)(l.TableHeader,{children:(0,t.jsxs)(l.TableRow,{className:"hover:bg-transparent",children:[(0,t.jsx)(l.TableHead,{children:"Topic 名称"}),(0,t.jsx)(l.TableHead,{children:"订阅者"}),(0,t.jsx)(l.TableHead,{children:"消息数"}),(0,t.jsx)(l.TableHead,{children:"速率"}),(0,t.jsx)(l.TableHead,{children:"QoS"}),(0,t.jsx)(l.TableHead,{children:"保留"}),(0,t.jsx)(l.TableHead,{className:"w-[100px]",children:"操作"})]})}),(0,t.jsx)(l.TableBody,{children:0===T.length?(0,t.jsx)(l.TableRow,{children:(0,t.jsx)(l.TableCell,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"暂无数据"})}):T.map(e=>(0,t.jsxs)(l.TableRow,{className:"group",children:[(0,t.jsx)(l.TableCell,{children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("code",{className:"text-sm font-medium text-primary",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.lastMessage})]})}),(0,t.jsx)(l.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 max-w-[100px]",children:(0,t.jsx)(n.Progress,{value:e.subscribers/100*100,className:"h-1.5"})}),(0,t.jsx)("span",{className:"text-sm",children:e.subscribers})]})}),(0,t.jsx)(l.TableCell,{className:"text-sm",children:e.messageCount}),(0,t.jsx)(l.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(p.TrendingUp,{className:"h-3 w-3 text-muted-foreground"}),(0,t.jsxs)("span",{className:"text-sm",children:[e.messageRate,"/s"]})]})}),(0,t.jsx)(l.TableCell,{children:(0,t.jsxs)(i.Badge,{variant:"outline",className:"text-xs",children:["QoS ",e.qos]})}),(0,t.jsx)(l.TableCell,{children:e.retained?(0,t.jsx)(i.Badge,{variant:"default",className:"text-xs bg-green-500 hover:bg-green-600",children:"是"}):(0,t.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:"否"})}),(0,t.jsx)(l.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)(o.Dialog,{children:[(0,t.jsx)(o.DialogTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",onClick:()=>B(e),children:(0,t.jsx)(x.Eye,{className:"h-4 w-4"})})}),(0,t.jsxs)(o.DialogContent,{className:"max-w-2xl",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsx)(o.DialogTitle,{children:"Topic 详情"}),(0,t.jsx)(o.DialogDescription,{children:(0,t.jsx)("code",{className:"text-sm",children:e.name})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(d.Card,{children:(0,t.jsxs)(d.CardContent,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"订阅者数量"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.subscribers})]})}),(0,t.jsx)(d.Card,{children:(0,t.jsxs)(d.CardContent,{className:"pt-6",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"消息总数"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.messageCount})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"消息速率"}),(0,t.jsxs)("span",{className:"font-medium",children:[e.messageRate," 条/秒"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"QoS 等级"}),(0,t.jsxs)(i.Badge,{variant:"outline",children:["Level ",e.qos]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{children:"保留消息"}),(0,t.jsx)(i.Badge,{variant:e.retained?"default":"secondary",children:e.retained?"已启用":"未启用"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"最后消息时间"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.lastMessage})]})]})]})]}),(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",onClick:()=>{var t;return t=e.id,void C(e=>e.filter(e=>e.id!==t))},className:"text-destructive opacity-0 group-hover:opacity-100 transition-opacity",children:(0,t.jsx)(g.Trash2,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,t.jsxs)(d.CardFooter,{className:"flex items-center justify-between border-t pt-4",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["显示 ",T.length," 条，共 ",w.length," 条"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Button,{variant:"outline",size:"sm",disabled:!0,children:"上一页"}),(0,t.jsx)(s.Button,{variant:"outline",size:"sm",disabled:!0,children:"下一页"})]})]})]})]})}e.s(["default",()=>w],24462)}]);