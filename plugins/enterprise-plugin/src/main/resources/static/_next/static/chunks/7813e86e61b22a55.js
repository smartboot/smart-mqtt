(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39084,e=>{"use strict";var t=e.i(46398),a=e.i(55372),l=e.i(96409),r=e.i(63480),n=e.i(50171),i=e.i(84922),s=e.i(42040),o="AlertDialog",[c,d]=(0,l.createContextScope)(o,[n.createDialogScope]),u=(0,n.createDialogScope)(),g=e=>{let{__scopeAlertDialog:a,...l}=e,r=u(a);return(0,t.jsx)(n.Root,{...r,...l,modal:!0})};g.displayName=o;var m=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...r}=e,i=u(l);return(0,t.jsx)(n.Trigger,{...i,...r,ref:a})});m.displayName="AlertDialogTrigger";var f=e=>{let{__scopeAlertDialog:a,...l}=e,r=u(a);return(0,t.jsx)(n.Portal,{...r,...l})};f.displayName="AlertDialogPortal";var p=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...r}=e,i=u(l);return(0,t.jsx)(n.Overlay,{...i,...r,ref:a})});p.displayName="AlertDialogOverlay";var x="AlertDialogContent",[h,j]=c(x),y=(0,s.createSlottable)("AlertDialogContent"),v=a.forwardRef((e,l)=>{let{__scopeAlertDialog:s,children:o,...c}=e,d=u(s),g=a.useRef(null),m=(0,r.useComposedRefs)(l,g),f=a.useRef(null);return(0,t.jsx)(n.WarningProvider,{contentName:x,titleName:b,docsSlug:"alert-dialog",children:(0,t.jsx)(h,{scope:s,cancelRef:f,children:(0,t.jsxs)(n.Content,{role:"alertdialog",...d,...c,ref:m,onOpenAutoFocus:(0,i.composeEventHandlers)(c.onOpenAutoFocus,e=>{e.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(y,{children:o}),(0,t.jsx)(k,{contentRef:g})]})})})});v.displayName=x;var b="AlertDialogTitle",N=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...r}=e,i=u(l);return(0,t.jsx)(n.Title,{...i,...r,ref:a})});N.displayName=b;var w="AlertDialogDescription",A=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...r}=e,i=u(l);return(0,t.jsx)(n.Description,{...i,...r,ref:a})});A.displayName=w;var C=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...r}=e,i=u(l);return(0,t.jsx)(n.Close,{...i,...r,ref:a})});C.displayName="AlertDialogAction";var D="AlertDialogCancel",S=a.forwardRef((e,a)=>{let{__scopeAlertDialog:l,...i}=e,{cancelRef:s}=j(D,l),o=u(l),c=(0,r.useComposedRefs)(a,s);return(0,t.jsx)(n.Close,{...o,...i,ref:c})});S.displayName=D;var k=({contentRef:e})=>{let t=`\`${x}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${x}\` by passing a \`${w}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${x}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};e.s(["Action",()=>C,"AlertDialog",()=>g,"AlertDialogAction",()=>C,"AlertDialogCancel",()=>S,"AlertDialogContent",()=>v,"AlertDialogDescription",()=>A,"AlertDialogOverlay",()=>p,"AlertDialogPortal",()=>f,"AlertDialogTitle",()=>N,"AlertDialogTrigger",()=>m,"Cancel",()=>S,"Content",()=>v,"Description",()=>A,"Overlay",()=>p,"Portal",()=>f,"Root",()=>g,"Title",()=>N,"Trigger",()=>m,"createAlertDialogScope",()=>d],3050);var $=e.i(3050),$=$,T=e.i(49627),P=e.i(38433);function M({...e}){return(0,t.jsx)($.Root,{"data-slot":"alert-dialog",...e})}function O({...e}){return(0,t.jsx)($.Trigger,{"data-slot":"alert-dialog-trigger",...e})}function R({...e}){return(0,t.jsx)($.Portal,{"data-slot":"alert-dialog-portal",...e})}function z({className:e,...a}){return(0,t.jsx)($.Overlay,{"data-slot":"alert-dialog-overlay",className:(0,T.cn)("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 bg-black/10 duration-100 supports-backdrop-filter:backdrop-blur-xs fixed inset-0 z-50",e),...a})}function I({className:e,size:a="default",...l}){return(0,t.jsxs)(R,{children:[(0,t.jsx)(z,{}),(0,t.jsx)($.Content,{"data-slot":"alert-dialog-content","data-size":a,className:(0,T.cn)("data-open:animate-in data-closed:animate-out data-closed:fade-out-0 data-open:fade-in-0 data-closed:zoom-out-95 data-open:zoom-in-95 bg-background ring-foreground/10 gap-6 rounded-xl p-6 ring-1 duration-100 data-[size=default]:max-w-xs data-[size=sm]:max-w-xs data-[size=default]:sm:max-w-lg group/alert-dialog-content fixed top-1/2 left-1/2 z-50 grid w-full -translate-x-1/2 -translate-y-1/2 outline-none",e),...l})]})}function L({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,T.cn)("grid grid-rows-[auto_1fr] place-items-center gap-1.5 text-center has-data-[slot=alert-dialog-media]:grid-rows-[auto_auto_1fr] has-data-[slot=alert-dialog-media]:gap-x-6 sm:group-data-[size=default]/alert-dialog-content:place-items-start sm:group-data-[size=default]/alert-dialog-content:text-left sm:group-data-[size=default]/alert-dialog-content:has-data-[slot=alert-dialog-media]:grid-rows-[auto_1fr]",e),...a})}function E({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,T.cn)("flex flex-col-reverse gap-2 group-data-[size=sm]/alert-dialog-content:grid group-data-[size=sm]/alert-dialog-content:grid-cols-2 sm:flex-row sm:justify-end",e),...a})}function F({className:e,...a}){return(0,t.jsx)($.Title,{"data-slot":"alert-dialog-title",className:(0,T.cn)("text-lg font-medium sm:group-data-[size=default]/alert-dialog-content:group-has-data-[slot=alert-dialog-media]/alert-dialog-content:col-start-2",e),...a})}function B({className:e,...a}){return(0,t.jsx)($.Description,{"data-slot":"alert-dialog-description",className:(0,T.cn)("text-muted-foreground *:[a]:hover:text-foreground text-sm text-balance md:text-pretty *:[a]:underline *:[a]:underline-offset-3",e),...a})}function Y({className:e,variant:a="default",size:l="default",...r}){return(0,t.jsx)(P.Button,{variant:a,size:l,asChild:!0,children:(0,t.jsx)($.Action,{"data-slot":"alert-dialog-action",className:(0,T.cn)(e),...r})})}function J({className:e,variant:a="outline",size:l="default",...r}){return(0,t.jsx)(P.Button,{variant:a,size:l,asChild:!0,children:(0,t.jsx)($.Cancel,{"data-slot":"alert-dialog-cancel",className:(0,T.cn)(e),...r})})}e.s(["AlertDialog",()=>M,"AlertDialogAction",()=>Y,"AlertDialogCancel",()=>J,"AlertDialogContent",()=>I,"AlertDialogDescription",()=>B,"AlertDialogFooter",()=>E,"AlertDialogHeader",()=>L,"AlertDialogTitle",()=>F,"AlertDialogTrigger",()=>O],39084)},43040,e=>{"use strict";var t=e.i(56860);function a(e){return t.default.post("/plugin/list",e||{})}function l(){return t.default.get("/plugin/current")}function r(e){return t.default.get(`/plugin/${e}/config`)}function n(e){return t.default.get(`/plugin/${e}/config?format=json`)}function i(e,a,l){return t.default.post(`/plugin/${e}/config/save`,{config:a,restart:l})}function s(e){return t.default.post(`/plugin/enable?id=${e}`)}function o(e){return t.default.post(`/plugin/disable?id=${e}`)}function c(e){return t.default.post(`/plugin/uninstall?id=${e}`)}function d(){return t.default.get("/plugin/market")}function u(e,t,a){let l=new EventSource(`/api/plugin/download?url=${encodeURIComponent(e)}`);return l.onmessage=t,a&&(l.onerror=a),{close:()=>l.close()}}function g(e){let a=new FormData;return a.append("plugin",e),t.default.post("/plugin/upload",a,{headers:{"Content-Type":"multipart/form-data"}})}function m(e){return t.default.get(`/plugin/${e}/schema`)}e.s(["disablePlugin",()=>o,"enablePlugin",()=>s,"getCurrentPlugin",()=>l,"getMarketPlugins",()=>d,"getPluginConfig",()=>r,"getPluginConfigAsJson",()=>n,"getPluginList",()=>a,"getPluginSchema",()=>m,"installPlugin",()=>u,"uninstallPlugin",()=>c,"updatePluginConfig",()=>i,"uploadPlugin",()=>g])},80421,e=>{"use strict";let t=(0,e.i(20790).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],80421)},6583,e=>{"use strict";var t=e.i(46398),a=e.i(55372),l=e.i(62639),r=a.forwardRef((e,a)=>(0,t.jsx)(l.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label",e.s(["Label",()=>r,"Root",()=>r],46832);var n=e.i(46832),n=n,i=e.i(49627);function s({className:e,...a}){return(0,t.jsx)(n.Root,{"data-slot":"label",className:(0,i.cn)("gap-2 text-sm leading-none font-medium group-data-[disabled=true]:opacity-50 peer-disabled:opacity-50 flex items-center select-none group-data-[disabled=true]:pointer-events-none peer-disabled:cursor-not-allowed",e),...a})}e.s(["Label",()=>s],6583)},83584,e=>{"use strict";let t=(0,e.i(20790).default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],83584)},50852,e=>{"use strict";let t=(0,e.i(20790).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],50852)},19920,e=>{"use strict";let t=(0,e.i(20790).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],19920)},30375,63076,e=>{"use strict";var t=e.i(20790);let a=(0,t.default)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);e.s(["Power",()=>a],30375);let l=(0,t.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>l],63076)},56658,e=>{"use strict";var t=e.i(89932);e.s(["Info",()=>t.default])},40109,34166,e=>{"use strict";var t=e.i(46398),a=e.i(55372),l=e.i(38433),r=e.i(836),n=e.i(697),i=e.i(39084),s=e.i(43040),o=e.i(80421),c=e.i(50852),d=e.i(19920),u=e.i(16378),g=e.i(30375),m=e.i(83584),f=e.i(63076),p=e.i(5545),x=e.i(6583),h=e.i(1435),j=e.i(56658),y=e.i(13221);function v({id:e,item:a,children:l}){let r=(0,y.useIsMobile)();return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsxs)(x.Label,{htmlFor:e,className:"text-sm font-medium",children:[a.name," ",r&&a.desc&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:a.desc})]}),a.tip&&!r&&(0,t.jsxs)(h.Tooltip,{children:[(0,t.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("button",{type:"button",className:"inline-flex items-center justify-center rounded-full hover:bg-muted p-0.5 transition-colors",children:(0,t.jsx)(j.Info,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),(0,t.jsx)(h.TooltipContent,{side:"top",className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-xs",children:a.tip})})]})]}),r&&a.tip&&(0,t.jsx)("div",{className:"bg-blue-50/80 dark:bg-blue-950/30 border border-blue-200/60 dark:border-blue-800/40 rounded-lg px-3 py-2.5",children:(0,t.jsx)("p",{className:"text-xs text-blue-700/80 dark:text-blue-300/80 leading-relaxed",children:a.tip})}),!r&&a.desc&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:a.desc}),l]})}function b(e,t){if(null==e)return N(t);switch(t){case"int":{let t="string"==typeof e?parseInt(e,10):e;return"number"!=typeof t||isNaN(t)?0:t}case"boolean":if("string"==typeof e)return"true"===e||"1"===e||"yes"===e.toLowerCase();return!!e;default:return String(e)}}function N(e){switch(e){case"int":return 0;case"boolean":return!1;default:return""}}function w(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Date)return new Date(e.getTime());if(Array.isArray(e))return e.map(e=>w(e));if("object"==typeof e){let t={};for(let a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=w(e[a]));return t}return e}function A(e,t=0){if(null==e)return"";if("object"!=typeof e)return String(e);let a="  ".repeat(t),l="";for(let[r,n]of Object.entries(e))if(null==n)l+=`${a}${r}:
`;else if("object"!=typeof n||Array.isArray(n)){let e=String(n);/[:#{}\[\],&*!?|'"<>@%]/.test(e)||e.includes("\n")||e.includes(" ")?l+=`${a}${r}: "${e.replace(/"/g,'\\"')}"
`:l+=`${a}${r}: ${e}
`}else l+=`${a}${r}:
`,l+=A(n,t+1);return l}function C({item:e,path:t,formData:a,onChange:l}){let r=t?`${t}.${e.name}`:e.name,n=function(e,t){if(!t)return e;let a=t.split("."),l=e;for(let e of a){if(null==l)return;l=l[e]}return l}(a,r);return{fullPath:r,value:null!=n?n:N(e.type),handleChange:t=>{l(r,b(t,e.type))}}}function D({item:e,path:a,formData:l,onChange:r}){let{fullPath:n,value:i,handleChange:s}=C({item:e,path:a,formData:l,onChange:r});return(0,t.jsx)(v,{id:n,item:e,children:(0,t.jsx)(p.Input,{id:n,type:"text",value:i,onChange:e=>s(e.target.value),placeholder:`ËØ∑ËæìÂÖ•${e.name}`})})}var S=e.i(8576);function k({item:e,path:a,formData:l,onChange:r}){let{fullPath:n,value:i,handleChange:s}=C({item:e,path:a,formData:l,onChange:r});return e.enums&&0!==e.enums.length?(0,t.jsx)(v,{id:n,item:e,children:(0,t.jsxs)(S.Select,{value:String(i),onValueChange:s,children:[(0,t.jsx)(S.SelectTrigger,{id:n,className:"w-full",children:(0,t.jsx)(S.SelectValue,{placeholder:`ËØ∑ÈÄâÊã©${e.name}`})}),(0,t.jsx)(S.SelectContent,{children:e.enums.map(e=>(0,t.jsx)(S.SelectItem,{value:e.value,children:e.desc},e.value))})]})}):null}let $=(0,e.i(20790).default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),T={string:D,int:function({item:e,path:a,formData:l,onChange:r}){let{fullPath:n,value:i,handleChange:s}=C({item:e,path:a,formData:l,onChange:r});return(0,t.jsx)(v,{id:n,item:e,children:(0,t.jsx)(p.Input,{id:n,type:"number",value:i,onChange:e=>s(e.target.value),placeholder:`ËØ∑ËæìÂÖ•${e.name}`})})},password:function({item:e,path:a,formData:l,onChange:r}){let{fullPath:n,value:i,handleChange:s}=C({item:e,path:a,formData:l,onChange:r});return(0,t.jsx)(v,{id:n,item:e,children:(0,t.jsx)(p.Input,{id:n,type:"password",value:i,onChange:e=>s(e.target.value),placeholder:`ËØ∑ËæìÂÖ•${e.name}`})})},boolean:function({item:e,path:a,formData:l,onChange:r}){let{fullPath:n,value:i,handleChange:s}=C({item:e,path:a,formData:l,onChange:r});return(0,t.jsx)(v,{id:n,item:e,children:(0,t.jsxs)(S.Select,{value:String(i),onValueChange:s,children:[(0,t.jsx)(S.SelectTrigger,{id:n,className:"w-full",children:(0,t.jsx)(S.SelectValue,{placeholder:`ËØ∑ÈÄâÊã©${e.name}`})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"true",children:"ÊòØ"}),(0,t.jsx)(S.SelectItem,{value:"false",children:"Âê¶"})]})]})})},textarea:function({item:e,path:a,formData:l,onChange:r}){let{fullPath:n,value:i,handleChange:s}=C({item:e,path:a,formData:l,onChange:r});return(0,t.jsx)(v,{id:n,item:e,children:(0,t.jsx)("textarea",{id:n,value:i,onChange:e=>s(e.target.value),placeholder:`ËØ∑ËæìÂÖ•${e.name}`,style:e.height&&e.height>0?{height:e.height}:void 0,className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 resize-y"})})},object:function({item:e,path:a,formData:l,onChange:r}){let n=(0,y.useIsMobile)(),i=a?`${a}.${e.name}`:e.name;return e.items&&0!==e.items.length?(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-muted/30",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-1",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:e.name}),e.tip&&(0,t.jsxs)(h.Tooltip,{children:[(0,t.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("button",{type:"button",className:"inline-flex items-center justify-center rounded-full hover:bg-muted p-0.5 transition-colors",children:(0,t.jsx)($,{className:"h-3.5 w-3.5 text-muted-foreground"})})}),(0,t.jsx)(h.TooltipContent,{side:"top",className:"max-w-xs",children:(0,t.jsx)("p",{className:"text-xs",children:e.tip})})]})]}),e.desc&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:e.desc}),(0,t.jsx)("div",{className:"grid grid-cols-12 gap-4",children:e.items.map(e=>{let a=n?12:e.col&&e.col>=1&&e.col<=12?e.col:12;return(0,t.jsx)("div",{style:{gridColumn:`span ${a} / span ${a}`},children:(0,t.jsx)(P,{item:e,path:i,formData:l,onChange:r})},e.name)})})]})}):null}};function P({item:e,path:a,formData:l,onChange:r}){let n=e.enums&&e.enums.length>0,i=function(e,t){if(t&&"object"!==e)return k;let a=T[e];return a||D}(e.type,n);return(0,t.jsx)(i,{item:e,path:a,formData:l,onChange:r})}function M({pluginId:e,onSave:p}){let[x,h]=(0,a.useState)(null),[j,v]=(0,a.useState)({}),[C,D]=(0,a.useState)({}),[S,k]=(0,a.useState)(!0),[$,T]=(0,a.useState)(!1),[M,O]=(0,a.useState)(null),[R,z]=(0,a.useState)(null),[I,L]=(0,a.useState)(!1),[E,F]=(0,a.useState)(!1),[B,Y]=(0,a.useState)({open:!1,title:"",description:"",confirmText:"",variant:"default",onConfirm:()=>{}});(0,a.useEffect)(()=>{(async()=>{if(!e){O("Êèí‰ª∂ID‰∏çËÉΩ‰∏∫Á©∫"),k(!1);return}try{k(!0),O(null),L(!1);let t=await (0,s.getPluginSchema)(e),a={};try{let t=await (0,s.getPluginConfigAsJson)(e);t&&(a=JSON.parse(t))}catch(t){console.warn("JSONÊ†ºÂºèÈÖçÁΩÆËé∑ÂèñÂ§±Ë¥•ÔºåÂ∞ùËØïYAMLÊ†ºÂºè:",t);try{let t=await (0,s.getPluginConfig)(e);t&&"string"==typeof t&&(a=function(e){let t={},a=e.split("\n"),l=[{obj:t,indent:-1}];for(let e of a){if(!e.trim()||e.trim().startsWith("#"))continue;let t=e.search(/\S/),a=e.trim();if(a.includes(":")){let e=a.indexOf(":"),r=a.substring(0,e).trim(),n=a.substring(e+1).trim();for((n.startsWith('"')&&n.endsWith('"')||n.startsWith("'")&&n.endsWith("'"))&&(n=n.slice(1,-1));l.length>1&&l[l.length-1].indent>=t;)l.pop();let i=l[l.length-1].obj;""===n?(i[r]={},l.push({obj:i[r],indent:t})):i[r]=n}}return t}(t))}catch(e){console.warn("YAMLÊ†ºÂºèÈÖçÁΩÆ‰πüËé∑ÂèñÂ§±Ë¥•Ôºå‰ΩøÁî®Á©∫ÈÖçÁΩÆ:",e)}}if(t){h(t);let e=function e(t,a){let l=function(e){let t={};for(let[a,l]of Object.entries(e))if(a.includes(".")){let e=a.split("."),r=t;for(let t=0;t<e.length-1;t++)e[t]in r||(r[e[t]]={}),r=r[e[t]];r[e[e.length-1]]=l}else t[a]=l;return t}(a),r={};return t.forEach(t=>{let a=l[t.name];"object"===t.type&&t.items&&t.items.length>0?r[t.name]=e(t.items,"object"==typeof a&&null!==a?a:{}):null!=a?r[t.name]=b(a,t.type):r[t.name]=N(t.type)}),r}(t.items,a);v(e),D(w(e))}else O("Ëé∑ÂèñÊèí‰ª∂SchemaÂ§±Ë¥•")}catch(e){console.error("Âä†ËΩΩSchemaÂ§±Ë¥•:",e),e instanceof Error?O(e.message||"Âä†ËΩΩÊèí‰ª∂ÈÖçÁΩÆÂ§±Ë¥•"):O("Âä†ËΩΩÊèí‰ª∂ÈÖçÁΩÆÂ§±Ë¥•")}finally{k(!1)}})()},[e]);let J=(0,a.useCallback)((e,t)=>{v(a=>{let l=w(a),r=e.split("."),n=l;for(let e=0;e<r.length-1;e++){let t=r[e];t in n&&null!==n[t]&&"object"==typeof n[t]||(n[t]={}),n=n[t]}return n[r[r.length-1]]=t,l}),L(!1)},[]),V=(0,a.useCallback)(()=>{v(w(C)),L(!1),z(null)},[C]),W=(0,a.useCallback)(()=>{Y({open:!0,title:"‰øùÂ≠òÈÖçÁΩÆ",description:"‰øùÂ≠òÂêéÈÖçÁΩÆÂ∞ÜÂÜôÂÖ•Êñá‰ª∂Ôºå‰ΩÜÈúÄÈáçÂêØÊúçÂä°ÂêéÊâçËÉΩÁîüÊïà„ÄÇ\n\nËØ∑Á°Æ‰øùÈÖçÁΩÆÊ≠£Á°ÆÔºå‚ö†Ô∏è ÈîôËØØÁöÑÈÖçÁΩÆÂèØËÉΩÂØºËá¥ÊúçÂä°Êó†Ê≥ïÊ≠£Â∏∏ÈáçÂêØ„ÄÇ",confirmText:"‰øùÂ≠ò",variant:"default",onConfirm:()=>q(!1)})},[]),H=(0,a.useCallback)(()=>{Y({open:!0,title:"‰øùÂ≠òÂπ∂ÁîüÊïà",description:"‚ö†Ô∏è Ë≠¶ÂëäÔºöÊ≠§Êìç‰ΩúÂ∞Ü‰øùÂ≠òÈÖçÁΩÆÂπ∂ÈáçÂêØÊúçÂä°‰ΩøÈÖçÁΩÆÁîüÊïà„ÄÇ\n\nËØ∑‰ªîÁªÜÊ£ÄÊü•ÈÖçÁΩÆÁöÑÊ≠£Á°ÆÊÄßÔºå‚ùå ÈîôËØØÁöÑÈÖçÁΩÆÂèØËÉΩÂØºËá¥ÊúçÂä°Êó†Ê≥ïÊ≠£Â∏∏ÈáçÂêØÔºÅ",confirmText:"‰øùÂ≠òÂπ∂ÈáçÂêØ",variant:"destructive",onConfirm:()=>q(!0)})},[]),q=async t=>{try{T(!0),z(null),L(!1);let a=A(j);await (0,s.updatePluginConfig)(e,a,t),D(w(j)),L(!0),p?.(a),setTimeout(()=>L(!1),3e3)}catch(e){console.error("‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•:",e),e instanceof Error?z(e.message||"‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•"):z("‰øùÂ≠òÈÖçÁΩÆÂ§±Ë¥•")}finally{T(!1)}},_=JSON.stringify(j)!==JSON.stringify(C),U=(0,y.useIsMobile)();return S?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(r.Skeleton,{className:"h-6 w-32"}),(0,t.jsx)(r.Skeleton,{className:"h-4 w-48"}),(0,t.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,t.jsx)(r.Skeleton,{className:"h-10 w-full"}),(0,t.jsx)(r.Skeleton,{className:"h-10 w-full"}),(0,t.jsx)(r.Skeleton,{className:"h-10 w-full"})]})]}):M?(0,t.jsxs)(n.Alert,{variant:"destructive",children:[(0,t.jsx)(o.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(n.AlertDescription,{children:M})]}):x&&x.items&&0!==x.items.length?(0,t.jsxs)("div",{className:"space-y-4",children:[R&&(0,t.jsxs)(n.Alert,{variant:"destructive",className:"mb-4",children:[(0,t.jsx)(o.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(n.AlertDescription,{children:R})]}),I&&(0,t.jsx)(n.Alert,{className:"mb-4 bg-green-50 border-green-200 text-green-800",children:(0,t.jsx)(n.AlertDescription,{children:"ÈÖçÁΩÆ‰øùÂ≠òÊàêÂäüÔºÅ"})}),(0,t.jsx)("div",{className:"flex justify-end mb-4",children:(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>F(!E),className:"gap-2 text-muted-foreground hover:text-foreground",children:E?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.EyeOff,{className:"h-4 w-4"}),"ÈöêËóè YAML È¢ÑËßà"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Eye,{className:"h-4 w-4"}),"È¢ÑËßà YAML"]})})}),E&&(0,t.jsxs)("div",{className:"mb-6 p-4 bg-slate-950 rounded-lg border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-slate-200",children:"YAML È¢ÑËßà"}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:"ÂΩìÂâçÈÖçÁΩÆÁîüÊàêÁöÑ YAML ÂÜÖÂÆπ"})]}),(0,t.jsx)("pre",{className:"text-xs text-slate-300 overflow-auto max-h-96 font-mono leading-relaxed",children:A(j)})]}),(0,t.jsx)("div",{className:"grid grid-cols-12 gap-4",children:x.items.map(e=>{let a=U?12:e.col&&e.col>=1&&e.col<=12?e.col:12;return(0,t.jsx)("div",{style:{gridColumn:`span ${a}`},children:(0,t.jsx)(P,{item:e,path:"",formData:j,onChange:J})},e.name)})}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t",children:[(0,t.jsxs)(l.Button,{variant:"outline",onClick:V,disabled:$||!_,className:"gap-2",children:[(0,t.jsx)(m.RotateCcw,{className:"h-4 w-4"}),"ÈáçÁΩÆ"]}),(0,t.jsx)(l.Button,{variant:"outline",onClick:W,disabled:$||!_,className:"gap-2",children:$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Loader2,{className:"h-4 w-4 animate-spin"}),"‰øùÂ≠ò‰∏≠..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Save,{className:"h-4 w-4"}),"‰øùÂ≠ò"]})}),(0,t.jsx)(l.Button,{onClick:H,disabled:$||!_,className:"gap-2",children:$?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Loader2,{className:"h-4 w-4 animate-spin"}),"‰øùÂ≠ò‰∏≠..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Power,{className:"h-4 w-4"}),"‰øùÂ≠òÂπ∂ÁîüÊïà"]})})]}),(0,t.jsx)(i.AlertDialog,{open:B.open,onOpenChange:e=>Y(t=>({...t,open:e})),children:(0,t.jsxs)(i.AlertDialogContent,{children:[(0,t.jsxs)(i.AlertDialogHeader,{children:[(0,t.jsxs)(i.AlertDialogTitle,{className:"flex items-center gap-2",children:["destructive"===B.variant&&(0,t.jsx)("span",{className:"text-destructive",children:"‚ö†Ô∏è"}),B.title]}),(0,t.jsx)(i.AlertDialogDescription,{className:"space-y-3",asChild:!0,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:B.description}),"destructive"===B.variant&&(0,t.jsxs)("div",{className:"bg-destructive/10 border border-destructive/30 rounded-lg p-3 text-destructive text-sm font-medium flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"‚ö†Ô∏è"}),(0,t.jsx)("span",{children:"Ê≠§Êìç‰ΩúÂ∞ÜÈáçÂêØÊúçÂä°ÔºåÈîôËØØÁöÑÈÖçÁΩÆÂèØËÉΩÂØºËá¥ÊúçÂä°Êó†Ê≥ïÂêØÂä®ÔºåËØ∑Ë∞®ÊÖéÊìç‰ΩúÔºÅ"})]}),"default"===B.variant&&(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-yellow-800 text-sm font-medium flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"üí°"}),(0,t.jsx)("span",{children:"‰øùÂ≠òÂêéÈúÄË¶ÅÊâãÂä®ÈáçÂêØÊúçÂä°ÊâçËÉΩÁîüÊïà„ÄÇ"})]})]})})]}),(0,t.jsxs)(i.AlertDialogFooter,{children:[(0,t.jsx)(i.AlertDialogCancel,{children:"ÂèñÊ∂à"}),(0,t.jsx)(i.AlertDialogAction,{variant:B.variant,onClick:()=>{Y(e=>({...e,open:!1})),B.onConfirm()},children:B.confirmText})]})]})})]}):(0,t.jsx)(n.Alert,{children:(0,t.jsx)(n.AlertDescription,{children:"ËØ•Êèí‰ª∂ÊöÇÊó†ÈÖçÁΩÆÈ°π"})})}e.s(["PluginSchemaForm",()=>M],34166),e.s([],40109)}]);